/*! For license information please see custom-bonus-system.js.LICENSE.txt */
!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=(window.__sw__.assetPath + '/bundles/custombonussystem/'),n(n.s="3kO0")}({"055v":function(t,e,n){},"3kO0":function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(s=r.key,i=void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"),"symbol"===o(i)?i:String(i)),r)}var s,i}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e);var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(l,t);var e,n,o,c=a(l);function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"custom";return r(this,l),c.call(this,t,e,n)}return e=l,(n=[{key:"getSumPointsSalesChannels",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getBasicHeaders(n);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/get-sum-points-sales-channels"),{filter:t,limit:e},{headers:o}).then((function(t){return t.data}))}},{key:"getTopEarnedPointsCustomers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getBasicHeaders(e);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/get-top-earned-points-customers"),{limit:t},{headers:n}).then((function(t){return t.data}))}},{key:"getTopCreditPointsCustomers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getBasicHeaders(e);return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/get-top-credit-points-customers"),{limit:t},{headers:n}).then((function(t){return t.data}))}}])&&s(e.prototype,n),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),l}(Shopware.Classes.ApiService);Shopware.Service().register("customBonusSystemApiService",(function(t){var e=Shopware.Application.getContainer("init");return new u(e.httpClient,t.loginService)}));n("T1wt");function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(){d=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var s=e&&e.prototype instanceof p?e:p,i=Object.create(s.prototype),a=new x(r||[]);return o(i,"_invoke",{value:P(t,n,a)}),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var b={};function p(){}function y(){}function f(){}var _={};c(_,s,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(L([])));g&&g!==e&&n.call(g,s)&&(_=g);var v=f.prototype=p.prototype=Object.create(_);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,s,i,a){var c=u(t[o],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==m(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,i,a)}),(function(t){r("throw",t,i,a)})):e.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,a)}))}a(c.arg)}var s;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return s=s?s.then(o,o):o()}})}function P(t,e,n){var o="suspendedStart";return function(r,s){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw s;return E()}for(n.method=r,n.arg=s;;){var i=n.delegate;if(i){var a=S(i,n);if(a){if(a===b)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var r=u(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,b;var s=r.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,b):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=f,o(v,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:y,configurable:!0}),y.displayName=c(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(k.prototype),c(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,o,r,s){void 0===s&&(s=Promise);var i=new k(l(e,n,o,r),s);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(v),c(v,a,"Generator"),c(v,s,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=e,s?(this.method="next",this.next=s.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),b}},t}function b(t,e,n,o,r,s,i){try{var a=t[s](i),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,r)}var p=Shopware,y=p.Component,f=p.Mixin,_=Shopware.Data.Criteria;y.register("custom-bonus-system-booking",{template:'{% block custom_bonus_system_list %}\r\n<sw-page class="custom-bonus-system-order-list">\r\n    {% block custom_bonus_system_list_smart_bar_header %}\r\n        <template #smart-bar-header>\r\n            {% block custom_bonus_system_list_smart_bar_header_title %}\r\n                <h2>\r\n                    {% block custom_bonus_system_list_smart_bar_header_title_text %}\r\n                        {{ $tc(\'custom-bonus-system.list.booking.textOverview\') }}\r\n                    {% endblock %}\r\n\r\n                    {% block custom_bonus_system_list_smart_bar_header_amount %}\r\n                        <span v-if="!isLoading" class="sw-page__smart-bar-amount">\r\n                        ({{ total }})\r\n                        </span>\r\n                    {% endblock %}\r\n                </h2>\r\n            {% endblock %}\r\n        </template>\r\n    {% endblock %}\r\n\r\n    <template #content>\r\n            {% block custom_bonus_system_list_content %}\r\n            <div class="sw-product-list__content">\r\n                {% block custom_bonus_system_component_navigation %}\r\n                    <custom-bonus-system-navigation></custom-bonus-system-navigation>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_grid %}\r\n                    <custom-bonus-system-booking-list ref="customBonusSystemGrid"\r\n                                       v-if="bonus"\r\n                                       class="sw-product-list-grid"\r\n                                       :items="bonus"\r\n                                       :columns="columns"\r\n                                       :repository="repository"\r\n                                       :showSelection="true"\r\n                                       :showActions="false"\r\n                                       :allowDelete="false"\r\n                                       :isLoading="isLoading"\r\n                                       >\r\n                        {% block custom_bonus_system_list_grid_columns %}\r\n                            {% block custom_bonus_system_list_grid_columns_order %}\r\n                                <template slot="column-order" slot-scope="{ item }">\r\n                                    {{ item.order.orderNumber }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_points %}\r\n                                <template slot="column-points" slot-scope="{ item }">\r\n                                    {{ item.points }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_description %}\r\n                                <template slot="column-description" slot-scope="{ item }">\r\n                                    <span v-if="item.customFields && item.customFields.isExpiryBooking">\r\n                                        {{ $tc(\'custom-bonus-system.list.booking.expiryBooking\') }}\r\n                                    </span>\r\n                                    <span v-else-if="item.order">\r\n                                        {{ $tc(\'custom-bonus-system.detail.main.customer.bookingList.order\') }}\r\n                                    </span>\r\n                                    <span v-else>\r\n                                        {{ item.description }}\r\n                                    </span>\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_approved %}\r\n                                <template slot="column-approved" slot-scope="{ item }">\r\n                                    {{ item.approved }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_created_at %}\r\n                                <template #column-createdAt="{ item }">\r\n                                    {{ item.createdAt | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_saleschannel_name %}\r\n                                <template slot="column-salesChannel.name" slot-scope="{ item }">\r\n                                    {{ item.salesChannel.translated.name }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_customer_name %}\r\n                                <template slot="column-customer.firstName" slot-scope="{ item }">\r\n                                    {{ item.customer.firstName }} {{ item.customer.lastName }}\r\n                                </template>\r\n                            {% endblock %}\r\n                        {% endblock %}\r\n                    </custom-bonus-system-booking-list>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_empty_state %}\r\n                    <sw-empty-state v-if="!isLoading && !total" :title="$tc(\'custom-bonus-system.list.booking.messageEmpty\')"></sw-empty-state>\r\n                {% endblock %}\r\n            </div>\r\n            {% endblock %}\r\n    </template>\r\n\r\n    {% block custom_bonus_system_list_sidebar %}\r\n        <template #sidebar>\r\n            <sw-sidebar class="sw-order-list__sidebar">\r\n                {% block custom_bonus_system_list_sidebar_refresh %}\r\n                    <sw-sidebar-item\r\n                            icon="regular-undo"\r\n                            :title="$tc(\'custom-bonus-system.list.titleSidebarItemRefresh\')"\r\n                            @click="onRefresh">\r\n                    </sw-sidebar-item>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_sidebar_filter %}\r\n                    <sw-sidebar-filter-panel\r\n                            entity="custom_bonus_system_booking"\r\n                            :storeKey="storeKey"\r\n                            :filters="listFilters"\r\n                            :defaults="defaultFilters"\r\n                            :activeFilterNumber="activeFilterNumber"\r\n                            @criteria-changed="updateCriteria">\r\n                    </sw-sidebar-filter-panel>\r\n                {% endblock %}\r\n            </sw-sidebar>\r\n        </template>\r\n    {% endblock %}\r\n</sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory","filterFactory"],mixins:[f.getByName("listing")],data:function(){return{bonus:null,isLoading:!0,filterCriteria:[],defaultFilters:["is-order-filter","approved-filter"],storeKey:"grid.filter.booking.index",sortBy:"createdAt",naturalSorting:!0,sortDirection:"DESC",activeFilterNumber:0}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("custom_bonus_system_booking")},listFilters:function(){return this.filterFactory.create("custom_bonus_system_booking",{"approved-filter":{property:"approved",criteria:this.getApprovedCriteria("custom_bonus_system_booking.approved"),label:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterApproved"),placeholder:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterApproved"),valueProperty:"value",labelProperty:"label",options:this.approvedValues},"is-order-filter":{property:"orderId",criteria:this.getIsOrderCriteria("custom_bonus_system_booking.orderId"),label:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterIsOrder"),placeholder:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterIsOrder"),valueProperty:"value",labelProperty:"label",optionHasCriteria:this.$tc("global.sw-condition.condition.yes"),optionNoCriteria:this.$tc("global.sw-condition.condition.no"),options:this.isOrderValues}})},columns:function(){return[{property:"order.orderNumber",label:this.$tc("custom-bonus-system.list.booking.columnOrder"),allowResize:!0,primary:!0},{property:"createdAt",allowResize:!0,label:this.$tc("custom-bonus-system.list.booking.columnCreateDate")},{property:"salesChannel.name",label:this.$tc("custom-bonus-system.list.booking.columnSalesChannelName"),allowResize:!0},{property:"customer.firstName",dataIndex:"customer.firstName,customer.lastName",label:this.$tc("custom-bonus-system.list.booking.columnCustomerName"),allowResize:!0},{property:"points",label:this.$tc("custom-bonus-system.list.booking.columnPoints"),allowResize:!0},{property:"description",label:this.$tc("custom-bonus-system.list.booking.columnDescription"),allowResize:!0},{property:"approved",label:this.$tc("custom-bonus-system.list.booking.columnApproved"),allowResize:!0}]},criteria:function(){var t=this,e=new _(this.page,this.limit);return this.naturalSorting="createdAt"===this.sortBy,this.sortBy.split(",").forEach((function(n){e.addSorting(_.sort(n,t.sortDirection,t.naturalSorting))})),e.setTerm(this.term),this.filterCriteria.forEach((function(t){e.addFilter(t)})),e.addAssociation("order"),e.addAssociation("salesChannel"),e}},watch:{criteria:{handler:function(){this.getList()},deep:!0}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.loadFilterValues()},onChangeLanguage:function(t){this.getList(t)},loadFilterValues:function(){this.filterLoading=!0,this.approvedValues=[{label:this.$tc("global.sw-condition.condition.yes"),value:!0},{label:this.$tc("global.sw-condition.condition.no"),value:!1}],this.isOrderValues=[{label:this.$tc("global.sw-condition.condition.yes"),value:!0},{label:this.$tc("global.sw-condition.condition.no"),value:!1}]},getList:function(){var t,e=this;return(t=d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Shopware.Service("filterService").mergeWithStoredFilters(e.storeKey,e.criteria);case 3:return n=t.sent,e.activeFilterNumber=n.filters.length,t.abrupt("return",e.repository.search(n,Shopware.Context.api).then((function(t){e.bonus=t.filter((function(t){return t.customer})),e.total=t.total,e.isLoading=!1})).catch((function(t){console.log(t)})));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var s=t.apply(e,n);function i(t){b(s,o,r,i,a,"next",t)}function a(t){b(s,o,r,i,a,"throw",t)}i(void 0)}))})()},updateCriteria:function(t){this.page=1,this.filterCriteria=t},getApprovedCriteria:function(t){var e=new _;return!0===t?e.addFilter(_.equals("approved",!0)):e.addFilter(_.equals("approved",!1)),e},getIsOrderCriteria:function(t){var e=new _;return!0===t?e.addFilter(_.not("and",[_.equals("orderId",null)])):e.addFilter(_.equals("orderId",null)),e}}});var h=Shopware,g=h.Component,v=h.Mixin,w=Shopware.Data.Criteria;g.register("custom-bonus-system-customer",{template:'{% block custom_bonus_system_list %}\r\n<sw-page class="custom-bonus-system-customer">\r\n    {% block sw_customer_list_search_bar %}\r\n        <template #search-bar>\r\n            <sw-search-bar initialSearchType="customer"\r\n                           :initialSearch="term"\r\n                           @search="onSearch">\r\n            </sw-search-bar>\r\n        </template>\r\n    {% endblock %}\r\n\r\n    {% block custom_bonus_system_list_smart_bar_header %}\r\n        <template #smart-bar-header>\r\n            {% block custom_bonus_system_list_smart_bar_header_title %}\r\n                <h2>\r\n                    {% block custom_bonus_system_list_smart_bar_header_title_text %}\r\n                        {{ $tc(\'custom-bonus-system.list.userPoint.textOverview\') }}\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_list_smart_bar_header_amount %}\r\n                        <span v-if="!isLoading" class="sw-page__smart-bar-amount">\r\n                        ({{ total }})\r\n                        </span>\r\n                    {% endblock %}\r\n                </h2>\r\n            {% endblock %}\r\n        </template>\r\n    {% endblock %}\r\n\r\n    <template #content>\r\n            {% block custom_bonus_system_list_content %}\r\n            <div class="sw-product-list__content">\r\n                {% block custom_bonus_system_component_navigation %}\r\n                    {% block custom_bonus_system_component_navigation %}\r\n                        <custom-bonus-system-navigation></custom-bonus-system-navigation>\r\n                    {% endblock %}\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_grid %}\r\n                    <custom-bonus-system-user-point-listing ref="customBonusSystemCustomerGrid"\r\n                                       class="sw-product-list-grid"\r\n                                       :items="customer"\r\n                                       :columns="columns"\r\n                                       :repository="repository"\r\n                                       :showSelection="false"\r\n                                       detailRoute="custom.bonus.system.customerdetail"\r\n                                       :allowDelete="false"\r\n                                       :showSettings="true"\r\n                                       :isLoading="isLoading"\r\n                                       >\r\n                        {% block custom_bonus_system_list_grid_columns %}\r\n                            {% block custom_bonus_system_list_grid_columns_customer_name %}\r\n                                <template slot="column-customer.firstName" slot-scope="{ item }">\r\n                                    {{ item.firstName }} {{ item.lastName }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_customer_email %}\r\n                                <template slot="column-customerEmail" slot-scope="{ item }">\r\n                                    {{ item.email }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_customer_number %}\r\n                                <template #column-customerNumber="{ item }">\r\n                                    {{ item.customerNumber }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_points %}\r\n                                <template slot="column-points" slot-scope="{ item }">\r\n                                    {{ item.points }}\r\n                                </template>\r\n                            {% endblock %}\r\n                        {% endblock %}\r\n                    </custom-bonus-system-user-point-listing>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_empty_state %}\r\n                    <sw-empty-state v-if="!isLoading && !total" :title="$tc(\'custom-bonus-system.list.messageEmpty\')"></sw-empty-state>\r\n                {% endblock %}\r\n            </div>\r\n            {% endblock %}\r\n    </template>\r\n\r\n    {% block custom_bonus_system_list_sidebar %}\r\n        <template #sidebar>\r\n            <sw-sidebar>\r\n                {% block custom_bonus_system_list_sidebar_refresh %}\r\n                    <sw-sidebar-item\r\n                            icon="regular-undo"\r\n                            :title="$tc(\'custom-bonus-system.list.titleSidebarItemRefresh\')"\r\n                            @click="onRefresh">\r\n                    </sw-sidebar-item>\r\n                {% endblock %}\r\n            </sw-sidebar>\r\n        </template>\r\n    {% endblock %}\r\n</sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],mixins:[v.getByName("listing")],data:function(){return{sortBy:"createdAt",naturalSorting:!0,sortDirection:"DESC",customer:null,isLoading:!0}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("customer")},columns:function(){return[{property:"customer.firstName",dataIndex:"customer.firstName,customer.lastName",label:"sw-customer.list.columnName",allowResize:!0},{property:"customerEmail",dataIndex:"customer.email",naturalSorting:!0,label:"custom-bonus-system.list.userPoint.columnCustomerEmail",allowResize:!0},{property:"customerNumber",dataIndex:"customer.customerNumber",naturalSorting:!0,label:"sw-customer.list.columnCustomerNumber",allowResize:!0,align:"right"},{property:"points",dataIndex:"extensions.customBonusSystemUserPoint.points",label:this.$tc("custom-bonus-system.list.userPoint.columnPoints"),allowResize:!0}]},criteria:function(){var t=this,e=new w(this.page,this.limit);return this.naturalSorting="createdAt"===this.sortBy,this.sortBy.split(",").forEach((function(n){e.addSorting(w.sort(n,t.sortDirection,t.naturalSorting))})),e.setTerm(this.term),e.addAssociation("customBonusSystemUserPoint"),e}},methods:{onChangeLanguage:function(t){this.getList(t)},getList:function(){var t=this;return this.isLoading=!0,this.repository.search(this.criteria,Shopware.Context.api).then((function(e){e.forEach((function(t){t.extensions&&t.extensions.customBonusSystemUserPoint&&t.extensions.customBonusSystemUserPoint.points?t.points=t.extensions.customBonusSystemUserPoint.points:t.points=0})),t.customer=e,t.total=e.total,t.isLoading=!1}))}}});n("Flql");function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(){P=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var s=e&&e.prototype instanceof d?e:d,i=Object.create(s.prototype),a=new x(r||[]);return o(i,"_invoke",{value:w(t,n,a)}),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var m={};function d(){}function b(){}function p(){}var y={};c(y,s,(function(){return this}));var f=Object.getPrototypeOf,_=f&&f(f(L([])));_&&_!==e&&n.call(_,s)&&(y=_);var h=p.prototype=d.prototype=Object.create(y);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function v(t,e){function r(o,s,i,a){var c=u(t[o],t,s);if("throw"!==c.type){var l=c.arg,m=l.value;return m&&"object"==k(m)&&n.call(m,"__await")?e.resolve(m.__await).then((function(t){r("next",t,i,a)}),(function(t){r("throw",t,i,a)})):e.resolve(m).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,a)}))}a(c.arg)}var s;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return s=s?s.then(o,o):o()}})}function w(t,e,n){var o="suspendedStart";return function(r,s){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw s;return E()}for(n.method=r,n.arg=s;;){var i=n.delegate;if(i){var a=S(i,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=u(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,o=t.iterator[n];if(void 0===o)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var r=u(o,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var s=r.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,m):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function L(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return b.prototype=p,o(h,"constructor",{value:p,configurable:!0}),o(p,"constructor",{value:b,configurable:!0}),b.displayName=c(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,a,"GeneratorFunction")),t.prototype=Object.create(h),t},t.awrap=function(t){return{__await:t}},g(v.prototype),c(v.prototype,i,(function(){return this})),t.AsyncIterator=v,t.async=function(e,n,o,r,s){void 0===s&&(s=Promise);var i=new v(l(e,n,o,r),s);return t.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(h),c(h,a,"Generator"),c(h,s,(function(){return this})),c(h,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var o in e)n.push(o);return n.reverse(),function t(){for(;n.length;){var o=n.pop();if(o in e)return t.value=o,t.done=!1,t}return t.done=!0,t}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return i.type="throw",i.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],i=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var a=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=t,i.arg=e,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var r=o.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}function S(t,e,n,o,r,s,i){try{var a=t[s](i),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,r)}var C=Shopware,O=C.Component,x=C.Mixin,L=Shopware.Data.Criteria;Shopware.Component.getComponentHelper().mapPageErrors;O.register("custom-bonus-system-customer-detail",{template:'{% block custom_bonus_system_customer_detail %}\r\n    <sw-page class="custom-bonus-system-customer-detail">\r\n\r\n        {% block custom_bonus_system_customer_detail_header %}\r\n            <template #smart-bar-header>\r\n                <h2>{{ placeholder(bonus, \'name\', $tc(\'custom-bonus-system.detail.main.customer.textHeadline\')) }}</h2>\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_customer_detail_actions %}\r\n            <template #smart-bar-actions>\r\n\r\n                {% block custom_bonus_system_customer_detail_actions_abort %}\r\n                    <sw-button :disabled="isLoading" v-tooltip.bottom="tooltipCancel" @click="onCancel">\r\n                        {{ $tc(\'custom-bonus-system.detail.main.customer.buttonCancel\') }}\r\n                    </sw-button>\r\n                {% endblock %}\r\n\r\n                {# % block custom_bonus_system_customer_detail_actions_save %}\r\n                    <sw-button-process\r\n                            class="custom-bonus-system-customer-detail__save-action"\r\n                            :isLoading="isLoading"\r\n                            v-model="isSaveSuccessful"\r\n                            :disabled="isLoading"\r\n                            variant="primary"\r\n                            v-tooltip.bottom="tooltipSave"\r\n                            @click.prevent="onSave">\r\n                        {{ $tc(\'custom-bonus-system.detail.main.customer.buttonSave\') }}\r\n                    </sw-button-process>\r\n                {% endblock %#}\r\n\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_customer_detail_content %}\r\n            <sw-card-view slot="content">\r\n                {% block custom_bonus_system_list_content %}\r\n                    <div class="sw-product-list__content">\r\n                        {% block custom_bonus_system_component_navigation %}\r\n                            <sw-tabs class="custom-bonus-system-detail-page__tabs">\r\n                                {% block custom_bonus_system_content_tabs_index %}\r\n                                    <sw-tabs-item :route="{ name: \'custom.bonus.system.index\'}"\r\n                                                  :title="$tc(\'custom-bonus-system.general.bonusDashboardMenuItem\')"\r\n                                    >\r\n                                        {{ $tc(\'custom-bonus-system.general.bonusDashboardMenuItem\') }}\r\n                                    </sw-tabs-item>\r\n                                {% endblock %}\r\n\r\n                                {% block custom_bonus_system_content_tabs_booking %}\r\n                                    <sw-tabs-item :route="{ name: \'custom.bonus.system.booking\'}"\r\n                                                  :title="$tc(\'custom-bonus-system.general.bonusOrderMenuItem\')"\r\n                                    >\r\n                                        {{ $tc(\'custom-bonus-system.general.bonusOrderMenuItem\') }}\r\n                                    </sw-tabs-item>\r\n                                {% endblock %}\r\n\r\n                                {% block custom_bonus_system_content_tabs_customer %}\r\n                                    <sw-tabs-item :route="{ name: \'custom.bonus.system.customer\'}"\r\n                                                  :title="$tc(\'custom-bonus-system.general.customerMenuItem\')"\r\n                                                  class="router-link-active sw-tabs-item--active"\r\n                                    >\r\n                                        {{ $tc(\'custom-bonus-system.general.customerMenuItem\') }}\r\n                                    </sw-tabs-item>\r\n                                {% endblock %}\r\n\r\n                                {% block custom_bonus_system_detail_content_tabs_condition %}\r\n                                    <sw-tabs-item :route="{ name: \'custom.bonus.system.condition\'}"\r\n                                                  :title="$tc(\'custom-bonus-system.general.conditionMenuItem\')"\r\n                                    >\r\n                                        {{ $tc(\'custom-bonus-system.general.conditionMenuItem\') }}\r\n                                    </sw-tabs-item>\r\n                                {% endblock %}\r\n\r\n                                {% block custom_bonus_system_detail_content_tabs_bonus_product %}\r\n                                    <sw-tabs-item :route="{ name: \'custom.bonus.system.bonusproduct\'}"\r\n                                                  :title="$tc(\'custom-bonus-system.general.bonusProductMenuItem\')"\r\n                                    >\r\n                                        {{ $tc(\'custom-bonus-system.general.bonusProductMenuItem\') }}\r\n                                    </sw-tabs-item>\r\n                                {% endblock %}\r\n                            </sw-tabs>\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_detail_base_info_card %}\r\n                            <custom-bonus-system-customer-detail-card\r\n                                :customer="customer"\r\n                                :isLoading="isLoading"\r\n                                @open-book-points-modal-event="displayPointBookingModal">\r\n                                {% block custom_bonus_system_detail_base_info_metadata %}\r\n                                    <custom-bonus-system-customer-detail-info\r\n                                            :customer="customer"\r\n                                            :isLoading="isLoading">\r\n                                    </custom-bonus-system-customer-detail-info>\r\n                                {% endblock %}\r\n                            </custom-bonus-system-customer-detail-card>\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_list_grid %}\r\n                            <div class="custom-bonus-system-customer-detail__booking-list-table">\r\n                                <sw-card :isLoading="isLoading">\r\n                                    <custom-bonus-system-booking-list ref="customBonusSystemGrid"\r\n                                                                     v-if="bonus"\r\n                                                                     class="sw-product-list-grid"\r\n                                                                     :full-page="false"\r\n                                                                     :items="bonus"\r\n                                                                     :columns="columns"\r\n                                                                     :repository="repository"\r\n                                                                     :showSelection="true"\r\n                                                                     :showActions="false"\r\n                                                                     :allowDelete="false"\r\n                                                                     :isLoading="isLoading"\r\n                                    >\r\n                                        {% block custom_bonus_system_list_grid_columns %}\r\n                                            {% block custom_bonus_system_list_grid_columns_order %}\r\n                                                <template slot="column-order" slot-scope="{ item }">\r\n                                                    {{ item.order.orderNumber }}\r\n                                                </template>\r\n                                            {% endblock %}\r\n                                            {% block custom_bonus_system_list_grid_columns_order_state %}\r\n                                                <template #column-stateMachineState.name="{ item }">\r\n                                                    <sw-label :variant="getVariantFromOrderState(item)" appearance="pill">\r\n                                                        {{ item.order.stateMachineState.translated.name }}\r\n                                                    </sw-label>\r\n                                                </template>\r\n                                            {% endblock %}\r\n                                            {% block custom_bonus_system_list_grid_columns_points %}\r\n                                                <template slot="column-points" slot-scope="{ item }">\r\n                                                    {{ item.points }}\r\n                                                </template>\r\n                                            {% endblock %}\r\n                                            {% block custom_bonus_system_list_grid_columns_description %}\r\n                                                <template slot="column-description" slot-scope="{ item }">\r\n                                                    <span v-if="item.order">\r\n                                                        {{ $tc(\'custom-bonus-system.detail.main.customer.bookingList.order\') }}\r\n                                                    </span>\r\n                                                    <span v-else>\r\n                                                        {{ item.description }}\r\n                                                    </span>\r\n                                                </template>\r\n                                            {% endblock %}\r\n                                            {% block custom_bonus_system_list_grid_columns_approved %}\r\n                                                <template slot="column-approved" slot-scope="{ item }">\r\n                                                    {{ item.approved }}\r\n                                                </template>\r\n                                            {% endblock %}\r\n                                            {% block custom_bonus_system_list_grid_columns_created_at %}\r\n                                                <template #column-createdAt="{ item }">\r\n                                                    {{ item.createdAt | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\r\n                                                </template>\r\n                                            {% endblock %}\r\n                                            {% block custom_bonus_system_list_grid_columns_saleschannel_name %}\r\n                                                <template slot="column-salesChannel.name" slot-scope="{ item }">\r\n                                                    {{ item.salesChannel.translated.name }}\r\n                                                </template>\r\n                                            {% endblock %}\r\n                                            {# {% block custom_bonus_system_list_grid_columns_customer_name %}\r\n                                        <template slot="column-customer.firstName" slot-scope="{ item }">\r\n                                            {{ item.customer.firstName }} {{ item.customer.lastName }}\r\n                                        </template>\r\n                                    {% endblock %}#}\r\n                                        {% endblock %}\r\n                                    </custom-bonus-system-booking-list>\r\n                                </sw-card>\r\n                            </div>\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_list_empty_state %}\r\n                            <sw-empty-state v-if="!isLoading && !total" :title="$tc(\'custom-bonus-system.list.booking.messageEmpty\')"></sw-empty-state>\r\n                        {% endblock %}\r\n                    </div>\r\n                {% endblock %}\r\n                {% block custom_bonus_system_customer_detail_book_points_modal %}\r\n                    <sw-modal v-if="showModal"\r\n                            @modal-close="closePointBookingModal"\r\n                            :title="$tc(\'custom-bonus-system.list.userPoint.modal.title\')"\r\n                            variant="small">\r\n                        <div v-if="bookingFormError" class="point-booking-form-error">\r\n                            <p>{{ $tc(\'custom-bonus-system.list.userPoint.modal.formError\') }}</p>\r\n                        </div>\r\n\r\n                        <p class="sw-data-grid__confirm-bulk-delete-text">\r\n                            {{ $tc(\'custom-bonus-system.list.userPoint.modal.bookReason\') }}\r\n                            <sw-text-field :copyable="false" :copyableTooltip="false" v-model="bookingReason"></sw-text-field>\r\n                            {{ $tc(\'custom-bonus-system.list.userPoint.modal.bookPoints\') }}\r\n                            <sw-number-field numberType="int" :step="1" :min="null" :max="null" :value="null" :digits="0" v-model="bookingPoints"></sw-number-field>\r\n                        </p>\r\n\r\n                        <template #modal-footer>\r\n                            <slot name="point-booking-modal-cancel">\r\n                                <sw-button @click="closePointBookingModal" size="small">\r\n                                    {{ $tc(\'global.default.cancel\') }}\r\n                                </sw-button>\r\n                            </slot>\r\n\r\n                            <slot name="point-booking-modal-submit">\r\n                                <sw-button @click="updateCustomerPoints" variant="primary" size="small">\r\n                                    {{ $tc(\'custom-bonus-system.list.userPoint.modal.bookSubmit\') }}\r\n                                </sw-button>\r\n                            </slot>\r\n                        </template>\r\n                    </sw-modal>\r\n                {% endblock %}\r\n            </sw-card-view>\r\n        {% endblock %}\r\n        {% block custom_bonus_system_list_sidebar %}\r\n            <template #sidebar>\r\n                <sw-sidebar class="sw-order-list__sidebar">\r\n                    {% block custom_bonus_system_list_sidebar_refresh %}\r\n                        <sw-sidebar-item\r\n                                icon="regular-undo"\r\n                                :title="$tc(\'custom-bonus-system.list.titleSidebarItemRefresh\')"\r\n                                @click="onRefresh">\r\n                        </sw-sidebar-item>\r\n                    {% endblock %}\r\n\r\n                    {% block custom_bonus_system_list_sidebar_filter %}\r\n                        <sw-sidebar-filter-panel\r\n                                entity="custom_bonus_system_booking"\r\n                                :storeKey="storeKey"\r\n                                :filters="listFilters"\r\n                                :defaults="defaultFilters"\r\n                                :activeFilterNumber="activeFilterNumber"\r\n                                @criteria-changed="updateCriteria">\r\n                        </sw-sidebar-filter-panel>\r\n                    {% endblock %}\r\n                </sw-sidebar>\r\n            </template>\r\n        {% endblock %}\r\n    </sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory","filterFactory","stateStyleDataProviderService"],mixins:[x.getByName("listing"),x.getByName("placeholder"),x.getByName("notification"),x.getByName("discard-detail-page-changes")("customer-detail")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onCancel"},props:{customerId:{type:String,required:!1,default:null}},data:function(){return{bonus:null,customer:null,isLoading:!1,filterCriteria:[],defaultFilters:["is-order-filter","approved-filter"],storeKey:"grid.filter.bonus.customer.detail.index",sortBy:"createdAt",naturalSorting:!0,sortDirection:"DESC",activeFilterNumber:0,bookingPoints:null,bookingReason:null,bookingFormError:0,showModal:!1}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:{customerCriteria:function(){var t=new L;return t.addAssociation("group"),t.addAssociation("salutation"),t.addAssociation("customBonusSystemUserPoint"),t},customerRepository:function(){return this.repositoryFactory.create("customer")},repository:function(){return this.repositoryFactory.create("custom_bonus_system_booking")},userPointRepository:function(){return this.repositoryFactory.create("custom_bonus_system_user_point")},listFilters:function(){return this.filterFactory.create("custom_bonus_system_booking",{"approved-filter":{property:"approved",criteria:this.getApprovedCriteria("custom_bonus_system_booking.approved"),label:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterApproved"),placeholder:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterApproved"),valueProperty:"value",labelProperty:"label",options:this.approvedValues},"is-order-filter":{property:"orderId",criteria:this.getIsOrderCriteria("custom_bonus_system_booking.orderId"),label:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterIsOrder"),placeholder:this.$tc("custom-bonus-system.list.booking.titleSidebarItemFilterIsOrder"),valueProperty:"value",labelProperty:"label",optionHasCriteria:this.$tc("global.sw-condition.condition.yes"),optionNoCriteria:this.$tc("global.sw-condition.condition.no"),options:this.isOrderValues}})},getVariantFromOrderState:function(t){if(void 0!==t.stateMachineState)return this.stateStyleDataProviderService.getStyle("order.state",t.stateMachineState.technicalName).variant},columns:function(){return[{property:"order.orderNumber",label:this.$tc("custom-bonus-system.list.booking.columnOrder"),allowResize:!0,primary:!0},{property:"order.stateMachineState.name",label:"sw-order.list.columnState",allowResize:!0},{property:"createdAt",allowResize:!0,label:this.$tc("custom-bonus-system.list.booking.columnCreateDate")},{property:"salesChannel.name",label:this.$tc("custom-bonus-system.list.booking.columnSalesChannelName"),allowResize:!0},{property:"points",label:this.$tc("custom-bonus-system.list.booking.columnPoints"),allowResize:!0},{property:"description",label:this.$tc("custom-bonus-system.list.booking.columnDescription"),allowResize:!0},{property:"approved",label:this.$tc("custom-bonus-system.list.booking.columnApproved"),allowResize:!0}]},criteria:function(){var t=this,e=new L;return this.naturalSorting="createdAt"===this.sortBy,this.sortBy.split(",").forEach((function(n){e.addSorting(L.sort(n,t.sortDirection,t.naturalSorting))})),e.addFilter(L.equals("customerId",this.customerId)),e.setTerm(this.term),this.filterCriteria.forEach((function(t){e.addFilter(t)})),e.addAssociation("order"),e.addAssociation("order.stateMachineState"),e.addAssociation("salesChannel"),e},tooltipSave:function(){var t=this.$device.getSystemKey();return{message:"".concat(t," + S"),appearance:"light"}},tooltipCancel:function(){return{message:"ESC",appearance:"light"}}},watch:{criteria:{handler:function(){this.getList()},deep:!0}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.fetchCustomer(),this.loadFilterValues()},onChangeLanguage:function(t){this.getList(t)},loadFilterValues:function(){this.filterLoading=!0,this.approvedValues=[{label:this.$tc("global.sw-condition.condition.yes"),value:!0},{label:this.$tc("global.sw-condition.condition.no"),value:!1}],this.isOrderValues=[{label:this.$tc("global.sw-condition.condition.yes"),value:!0},{label:this.$tc("global.sw-condition.condition.no"),value:!1}]},getList:function(){var t,e=this;return(t=P().mark((function t(){var n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,Shopware.Service("filterService").mergeWithStoredFilters(e.storeKey,e.criteria);case 3:return n=t.sent,e.activeFilterNumber=n.filters.length,t.abrupt("return",e.repository.search(n,Shopware.Context.api).then((function(t){e.bonus=t,e.total=t.total,e.isLoading=!1})));case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,r){var s=t.apply(e,n);function i(t){S(s,o,r,i,a,"next",t)}function a(t){S(s,o,r,i,a,"throw",t)}i(void 0)}))})()},updateCriteria:function(t){this.page=1,this.filterCriteria=t},getApprovedCriteria:function(t){var e=new L;return!0===t?e.addFilter(L.equals("approved",!0)):e.addFilter(L.equals("approved",!1)),e},getIsOrderCriteria:function(t){var e=new L;return!0===t?e.addFilter(L.not("and",[L.equals("orderId",null)])):e.addFilter(L.equals("orderId",null)),e},onCancel:function(){this.$router.push({name:"custom.bonus.system.customer"})},updateCustomerPoints:function(){this.bookingReason&&this.bookingPoints&&0!==this.bookingPoints?(this.bookingFormError=0,this.updateBonusBooking(),this.updateUserPoints()):this.bookingFormError=1},updateBonusBooking:function(){var t=this;this.isLoading=!0,this.repository.save(this.createBonusBooking(),Shopware.Context.api).then((function(){t.getList(),t.clearBookingFields(),t.isLoading=!1}))},createBonusBooking:function(){var t=this.repository.create(Shopware.Context.api);return t.points=this.bookingPoints,t.approved=!0,t.customerId=this.customerId,t.description=this.bookingReason,t.salesChannelId=this.customer.salesChannelId,t},updateUserPoints:function(){var t=this,e=new L;e.addFilter(L.equals("customerId",this.customerId)),e.limit=1,this.isLoading=!0,this.userPointRepository.search(e,Shopware.Context.api).then((function(e){e.total>0?e.forEach((function(e){e.points+=t.bookingPoints,t.userPointRepository.save(e,Shopware.Context.api).then((function(){t.fetchCustomer(),t.clearBookingFields(),t.isLoading=!1}))})):t.userPointRepository.save(t.createUserPoint(),Shopware.Context.api).then((function(){t.fetchCustomer(),t.clearBookingFields(),t.isLoading=!1}))}))},createUserPoint:function(){var t=this.userPointRepository.create(Shopware.Context.api);return t.points=this.bookingPoints,t.customerId=this.customerId,t},fetchCustomer:function(){var t=this;this.isLoading=!0,this.customerRepository.get(this.customerId,Shopware.Context.api,this.customerCriteria).then((function(e){t.customer=e,t.isLoading=!1}))},clearBookingFields:function(){this.showModal=!1,this.bookingPoints=null,this.bookingReason=null},displayPointBookingModal:function(){this.showModal=!0},closePointBookingModal:function(){this.clearBookingFields()}}});n("FGHG");var E=Shopware.Component,j=Shopware.Data.Criteria;E.register("custom-bonus-system-customer-detail-info",{template:'{% block custom_bonus_system_customer_detail_info %}\r\n    <sw-container class="custom-bonus-system-customer-detail-info" columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0px 15px">\r\n        {% block custom_bonus_system_customer_detail_info_metadata %}\r\n            {% block custom_bonus_system_customer_detail_info_metadata_left %}\r\n                <sw-loader v-if="isLoading"></sw-loader>\r\n\r\n                <div v-else class="custom-bonus-system-customer-detail-info-columns">\r\n                    {% block custom_bonus_system_customer_detail_metadata_active %}\r\n                        <sw-description-list>\r\n                            {% block custom_bonus_system_customer_detail_metadata_active_label %}\r\n                                <dt class="custom-bonus-system-customer-detail-info__label">{{ $tc(\'sw-customer.baseInfo.labelActive\') }}</dt>\r\n                            {% endblock %}\r\n\r\n                            {% block custom_bonus_system_customer_detail_metadata_active_content %}\r\n                            <dd class="custom-bonus-system-customer-detail__label-is-active">\r\n                                {{ $tc(\'sw-customer.baseInfo.contentActive\', customer.active) }}\r\n                            </dd>\r\n                            {% endblock %}\r\n                        </sw-description-list>\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_customer_detail_metadata_language %}\r\n                        <sw-description-list>\r\n                            {% block custom_bonus_system_customer_detail_metadata_language_label %}\r\n                            <dt class="custom-bonus-system-customer-detail-info__label">{{ $tc(\'sw-customer.baseInfo.labelLanguage\') }}</dt>\r\n                            {% endblock %}\r\n\r\n                            {% block custom_bonus_system_customer_detail_metadata_language_content %}\r\n                            <dd>\r\n                            {{ customerLanguageName }}\r\n                                </dd>\r\n                            {% endblock %}\r\n                        </sw-description-list>\r\n                    {% endblock %}\r\n\r\n                </div>\r\n            {% endblock %}\r\n\r\n            {% block pcustom_bonus_system_customer_detail_info_metadata_right %}\r\n                <div class="custom-bonus-system-customer-detail-info-columns">\r\n                    {% block custom_bonus_system_customer_detail_metadata_customer_group %}\r\n                        <sw-description-list>\r\n                            {% block custom_bonus_system_customer_detail_metadata_customer_group_label %}\r\n                                <dt class="custom-bonus-system-customer-detail-info__label">{{ $tc(\'sw-customer.baseInfo.labelCustomerGroup\') }}</dt>\r\n                            {% endblock %}\r\n\r\n                            {% block custom_bonus_system_customer_detail_metadata_customer_group_content %}\r\n                            <dd>\r\n                            {{ customer.group.translated.name }}\r\n                                </dd>\r\n                            {% endblock %}\r\n\r\n                        </sw-description-list>\r\n                    {% endblock %}\r\n\r\n                    {% block custom_bonus_system_customer_detail_metadata_customer_number %}\r\n                        <sw-description-list>\r\n                            <dt class="custom-bonus-system-customer-detail-info__label">{{ $tc(\'sw-customer.baseInfo.labelCustomerNumber\') }}</dt>\r\n                            <dd class="custom-bonus-system-customer-detail__label-customer-number">\r\n                                {{ customer.customerNumber }}\r\n                            </dd>\r\n                        </sw-description-list>\r\n                    {% endblock %}\r\n\r\n                </div>\r\n            {% endblock %}\r\n        {% endblock %}\r\n    </sw-container>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],props:{customer:{type:Object,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},data:function(){return{orderAmount:0,orderCount:0,customerLanguage:null}},computed:{orderRepository:function(){return this.repositoryFactory.create("order")},languageRepository:function(){return this.repositoryFactory.create("language")},languageId:function(){return this.customer.languageId},customerLanguageName:function(){return this.customerLanguage?this.customerLanguage.name:""},languageCriteria:function(){var t=new j;return t.addFilter(j.equals("salesChannels.id",this.customer.salesChannelId)),t}},watch:{languageId:{immediate:!0,handler:function(){var t=this;this.languageRepository.get(this.languageId,Shopware.Context.api).then((function(e){t.customerLanguage=e}))}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){}}});n("RBvt");function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function $(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==I(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==I(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===I(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=Shopware,N=F.Component,R=F.Mixin,T=Shopware.Component.getComponentHelper().mapPropertyErrors;Shopware.Utils.format;N.register("custom-bonus-system-customer-detail-card",{template:'{% block custom_bonus_system_customer_detail_card  %}\r\n    <sw-card class="custom-bonus-system-customer-detail-card" :title="title" :isLoading="isLoading">\r\n        {% block custom_bonus_system_customer_detail_card_rows %}\r\n            <template #grid>\r\n                <sw-container rows="auto auto">\r\n                    {% block custom_bonus_system_customer_detail_row_primary %}\r\n                        <sw-card-section divider="bottom">\r\n                            {% block custom_bonus_system_customer_detail_metadata_container %}\r\n                                <sw-container columns="80px 1fr max-content" gap="0px 30px">\r\n                                    {% block custom_bonus_system_customer_detail_avatar %}\r\n                                        <sw-avatar size="80px"\r\n                                                   :sourceContext="customer"\r\n                                                   :firstName="customer.firstName"\r\n                                                   :lastName="customer.lastName">\r\n                                        </sw-avatar>\r\n                                    {% endblock %}\r\n\r\n                                    {% block custom_bonus_system_customer_detail_metadata %}\r\n                                        <div class="custom-bonus-syste-customer-detail-card__metadata">\r\n                                            {% block custom_bonus_system_customer_detail_metadata_customer_name %}\r\n                                                {% block sw_custsomer_card_metadata_customer_name_label %}\r\n                                                    <div v-if="customer && customer.salutation" class="custom-individual-offer-base-card__metadata-customer-name">\r\n                                                        {{ fullName }}\r\n                                                    </div>\r\n                                                {% endblock %}\r\n                                            {% endblock %}\r\n\r\n                                            {% block custom_bonus_system_customer_detail_metadata_customer_email %}\r\n                                                {% block custom_bonus_system_customer_detail_metadata_customer_email_label %}\r\n                                                    <div v-if="customer.email" class="custom-individual-offer-base-card__metadata-item ">\r\n                                                        <a class="custom-individual-offer-base-card-email-link" :href="getMailTo(customer.email)" title="mailto">{{ customer.email }}</a>\r\n                                                    </div>\r\n                                                {% endblock %}\r\n                                            {% endblock %}\r\n\r\n                                            {% block custom_bonus_system_customer_detail_metadata_additional %}\r\n                                                <slot name="metadata-additional">\r\n                                                    {% block custom_bonus_system_customer_detail_slot_metadata_additional %}{% endblock %}\r\n                                                </slot>\r\n                                            {% endblock %}\r\n\r\n                                        </div>\r\n                                    {% endblock %}\r\n\r\n                                    {% block custom_bonus_system_customer_detail_info_summary %}\r\n                                        <div class="custom-bonus-system-customer-detail__info-summary">\r\n                                            {% block custom_bonus_system_customer_detail_info_summary_entries %}\r\n                                                <div class="custom-bonus-system-customer-detail__metadata-price">\r\n                                                    <table cellpadding="0" cellspacing="0">\r\n                                                        <tr>\r\n                                                            <td>{{ $tc(\'custom-bonus-system.detail.main.customer.points\') }}:</td>\r\n                                                            <td class="second-col">{{ points }}</td>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <td>\r\n                                                                <sw-external-link\r\n                                                                    class="custom-bonus-system-customer-detail__book-points-link"\r\n                                                                    @click="displayPointBookingModal">\r\n                                                                    {{ $tc(\'custom-bonus-system.detail.main.customer.bookPoints\') }}\r\n                                                                </sw-external-link>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </table>\r\n                                                </div>\r\n                                            {% endblock %}\r\n                                        </div>\r\n                                    {% endblock %}\r\n                                </sw-container>\r\n                            {% endblock %}\r\n                        </sw-card-section>\r\n                    {% endblock %}\r\n\r\n                    {% block custom_bonus_system_customer_detail_row_secondary %}\r\n                        <sw-card-section secondary slim>\r\n                            <slot name="default">\r\n                                {% block custom_bonus_system_customer_detail_slot_default %}{% endblock %}\r\n                            </slot>\r\n                        </sw-card-section>\r\n                    {% endblock %}\r\n                </sw-container>\r\n            </template>\r\n        {% endblock %}\r\n    </sw-card>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],mixins:[R.getByName("salutation")],props:{customer:{type:Object,required:!0},title:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({fullName:function(){var t={name:this.salutation(this.customer),company:this.customer.company};return Object.values(t).filter((function(t){return null!==t})).join(" - ").trim()},points:function(){return console.log(),this.customer.extensions&&this.customer.extensions.customBonusSystemUserPoint&&this.customer.extensions.customBonusSystemUserPoint.points?this.customer.extensions.customBonusSystemUserPoint.points:0}},T("customer",["firstName","lastName"])),methods:{getMailTo:function(t){return"mailto:".concat(t)},displayPointBookingModal:function(){this.$emit("open-book-points-modal-event")}}});n("J2/+");var A=Shopware,D=A.Component,M=A.Mixin,V=Shopware.Data.Criteria;D.register("custom-bonus-system-condition",{template:'{% block custom_bonus_system_list %}\r\n<sw-page class="custom-bonus-system-condition">\r\n    {% block sw_customer_list_search_bar %}\r\n    {% endblock %}\r\n\r\n    {% block custom_bonus_system_list_smart_bar_header %}\r\n        <template #smart-bar-header>\r\n            {% block custom_bonus_system_list_smart_bar_header_title %}\r\n                <h2>\r\n                    {% block custom_bonus_system_list_smart_bar_header_title_text %}\r\n                        {{ $tc(\'custom-bonus-system.list.condition.textOverview\') }}\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_list_smart_bar_header_amount %}\r\n                        <span v-if="!isLoading" class="sw-page__smart-bar-amount">\r\n                        ({{ total }})\r\n                        </span>\r\n                    {% endblock %}\r\n                </h2>\r\n            {% endblock %}\r\n        </template>\r\n    {% endblock %}\r\n\r\n    {% block custom_bonus_system_list_smart_bar_actions %}\r\n        <template slot="smart-bar-actions">\r\n            {% block custom_bonus_system_list_smart_bar_actions_add %}\r\n                <sw-button\r\n                    class="custom-bonus-system-list__button-add-promotion"\r\n                    :routerLink="{ name: \'custom.bonus.system.conditioncreate\' }"\r\n                    variant="primary">\r\n                    {{ $tc(\'custom-bonus-system.list.condition.buttonAddCondition\') }}\r\n                </sw-button>\r\n            {% endblock %}\r\n        </template>\r\n    {% endblock %}\r\n\r\n    <template #content>\r\n            {% block custom_bonus_system_list_content %}\r\n            <div class="custom-bonus-system-condition-list__content">\r\n                {% block custom_bonus_system_component_navigation %}\r\n                    <custom-bonus-system-navigation></custom-bonus-system-navigation>\r\n                {% endblock %}\r\n                {% block custom_bonus_system_list_grid %}\r\n                    <sw-entity-listing ref="customBonusSystemconditionGrid"\r\n                                       v-if="condition"\r\n                                       class="sw-product-list-grid"\r\n                                       :items="condition"\r\n                                       :columns="columns"\r\n                                       :repository="repository"\r\n                                       :showSelection="true"\r\n                                       :allowDelete="true"\r\n                                       detailRoute="custom.bonus.system.conditiondetail"\r\n                                       :allowEdit="true"\r\n                                       :showSettings="true"\r\n                                       :isLoading="isLoading"\r\n                                       >\r\n                        {% block custom_bonus_system_list_grid_columns %}\r\n                            {% block custom_bonus_system_list_grid_columns_condition_name %}\r\n                                <template slot="column-name" slot-scope="{ item }">\r\n                                    {{ item.name }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_condition_active %}\r\n                                <template #column-active="{ item }">\r\n                                    <sw-icon v-if="item.active" name="regular-checkmark-xs" small class="is--active"/>\r\n                                    <sw-icon v-else name="regular-times-s" small class="is--inactive"/>\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_rcondition_validFrom %}\r\n                                <template #column-validFrom="{ item }">\r\n                                    {{ item.validFrom | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_condition_validUntil %}\r\n                                <template #column-validUntil="{ item }">\r\n                                    {{ item.validUntil | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\r\n                                </template>\r\n                            {% endblock %}\r\n                        {% endblock %}\r\n                    </sw-entity-listing>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_empty_state %}\r\n                    <sw-empty-state v-if="!isLoading && !total" :title="$tc(\'custom-bonus-system.list.condition.messageEmpty\')"></sw-empty-state>\r\n                {% endblock %}\r\n            </div>\r\n            {% endblock %}\r\n    </template>\r\n\r\n    {% block custom_bonus_system_list_sidebar %}\r\n        <template #sidebar>\r\n            <sw-sidebar>\r\n                {% block custom_bonus_system_list_sidebar_refresh %}\r\n                    <sw-sidebar-item\r\n                            icon="regular-undo"\r\n                            :title="$tc(\'custom-bonus-system.list.titleSidebarItemRefresh\')"\r\n                            @click="onRefresh">\r\n                    </sw-sidebar-item>\r\n                {% endblock %}\r\n            </sw-sidebar>\r\n        </template>\r\n    {% endblock %}\r\n</sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],mixins:[M.getByName("listing")],data:function(){return{sortBy:"createdAt",naturalSorting:!0,sortDirection:"DESC",condition:null,isLoading:!0}},metaInfo:function(){return{title:this.$createTitle()}},computed:{repository:function(){return this.repositoryFactory.create("custom_bonus_system_condition")},columns:function(){return[{property:"name",label:this.$tc("custom-bonus-system.list.condition.columnName"),allowResize:!0},{property:"active",label:this.$tc("custom-bonus-system.list.condition.columnActive"),allowResize:!0},{property:"validFrom",label:this.$tc("custom-bonus-system.list.condition.columnValidFrom"),allowResize:!0},{property:"validUntil",label:this.$tc("custom-bonus-system.list.condition.columnValidUntil"),allowResize:!0}]},criteria:function(){var t=this,e=new V;return this.naturalSorting="createdAt"===this.sortBy,this.sortBy.split(",").forEach((function(n){e.addSorting(V.sort(n,t.sortDirection,t.naturalSorting))})),e.setTerm(this.term),e}},methods:{onChangeLanguage:function(t){this.getList(t)},getList:function(){var t=this;return this.isLoading=!0,this.repository.search(this.criteria,Shopware.Context.api).then((function(e){t.condition=e,t.total=e.total,t.isLoading=!1}))}}});var G=n("nQEI");function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function q(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===z(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H=Shopware,K=H.Component,Y=H.Mixin,W=Shopware.Data.Criteria,J=Shopware.Component.getComponentHelper().mapPageErrors;K.register("custom-bonus-system-condition-detail",{template:'{% block custom_bonus_system_condition_detail %}\r\n    <sw-page class="custom-bonus-system-condition-detail">\r\n\r\n        {% block custom_bonus_system_condition_detail_header %}\r\n            <template #smart-bar-header>\r\n                <h2>{{ placeholder(condition, \'name\', $tc(\'custom-bonus-system.detail.main.condition.textHeadline\')) }}</h2>\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_condition_detail_actions %}\r\n            <template #smart-bar-actions>\r\n\r\n                {% block custom_bonus_system_condition_detail_actions_abort %}\r\n                    <sw-button :disabled="conditionIsLoading" v-tooltip.bottom="tooltipCancel" @click="onCancel">\r\n                        {{ $tc(\'custom-bonus-system.detail.main.condition.buttonCancel\') }}\r\n                    </sw-button>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_condition_detail_actions_save %}\r\n                <sw-button-process\r\n                        class="custom-bonus-system-condition-detail__save-action"\r\n                        :isLoading="isLoading"\r\n                        v-model="isSaveSuccessful"\r\n                        :disabled="isLoading"\r\n                        variant="primary"\r\n                        v-tooltip.bottom="tooltipSave"\r\n                        @click.prevent="onSave">\r\n                    {{ $tc(\'custom-bonus-system.detail.main.condition.buttonSave\') }}\r\n                </sw-button-process>\r\n                {% endblock %}\r\n\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_condition_detail_content %}\r\n            <sw-card-view slot="content">\r\n\r\n            {% block custom_bonus_system_condition_detail_base_basic_info_card %}\r\n                <sw-card :title="$tc(\'custom-bonus-system.detail.main.condition.cardTitleConditionBaseInfo\')" :isLoading="conditionIsLoading">\r\n                    <template v-if="!conditionIsLoading">\r\n                        <sw-container class="custom-bonus-system-condition-detail__container"\r\n                                      columns="repeat(auto-fit, minmax(250px, 1fr)"\r\n                                      gap="0 30px">\r\n                            <div class="custom-bonus-system-condition-detail__base-info-wrapper">\r\n\r\n                                {% block custom_bonus_system_condition_detail_base_info_field_name %}\r\n                                    <sw-field type="text"\r\n                                        :label="$tc(\'custom-bonus-system.detail.main.condition.labelName\')"\r\n                                        :placeholder="placeholder(condition, \'name\', $tc(\'custom-bonus-system.detail.main.condition.placeholderName\'))"\r\n                                        required\r\n\r\n                                        v-model="condition.name">\r\n                                    </sw-field>\r\n                                {% endblock %}\r\n\r\n                                {% block custom_bonus_system_condition_detail_base_info_field_private %}\r\n                                    <sw-checkbox-field v-model="condition.active"\r\n                                                       :label="$tc(\'custom-bonus-system.detail.main.condition.labelActive\', condition.private)"\r\n                                                       size="small">\r\n                                    </sw-checkbox-field>\r\n                                {% endblock %}\r\n                            </div>\r\n\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr 1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_condition_detail_base_info_valid_from_field %}\r\n                                <sw-datepicker dateType="datetime-local"\r\n                                               :label="$tc(\'custom-bonus-system.detail.main.condition.labelValidFrom\')"\r\n                                               v-model="condition.validFrom">\r\n                                </sw-datepicker>\r\n                            {% endblock %}\r\n\r\n                            {% block custom_bonus_system_condition_detail_base_info_valid_until_field %}\r\n                                <sw-datepicker dateType="datetime-local"\r\n                                               :label="$tc(\'custom-bonus-system.detail.main.condition.labelValidUntil\')"\r\n                                               v-model="condition.validUntil">\r\n                                </sw-datepicker>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_condition_detail_base_info_condition_type %}\r\n                                <sw-select-field\r\n                                    :placeholder="$tc(\'custom-bonus-system.detail.main.condition.placeholderType\')"\r\n                                    :label="$tc(\'custom-bonus-system.detail.main.condition.labelType\')"\r\n                                    required\r\n                                    v-model="condition.type">\r\n                                    <option value="1">{{ $tc(\'custom-bonus-system.detail.main.condition.type.excludeProducts\') }}</option>\r\n                                    <option value="2">{{ $tc(\'custom-bonus-system.detail.main.condition.type.individualBonusFactorForCustomer\') }}</option>\r\n                                    <option value="3">{{ $tc(\'custom-bonus-system.detail.main.condition.type.individualBonusFactorForProductOrStream\') }}</option>\r\n                                </sw-select-field>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_condition_detail_base_info_condition_sub_type %}\r\n                                <sw-select-field\r\n                                    :placeholder="$tc(\'custom-bonus-system.detail.main.condition.placeholderSubTypeExclude\')"\r\n                                    :label="$tc(\'custom-bonus-system.detail.main.condition.labelSubType\')"\r\n                                    v-model="condition.subType"\r\n                                    v-if="condition.type == 1">\r\n                                    <option value="1">{{ $tc(\'custom-bonus-system.detail.main.condition.subType.excludeForCollect\') }}</option>\r\n                                    <option value="2">{{ $tc(\'custom-bonus-system.detail.main.condition.subType.excludeForRedeem\') }}</option>\r\n                                </sw-select-field>\r\n\r\n                                <sw-select-field\r\n                                    :placeholder="$tc(\'custom-bonus-system.detail.main.condition.placeholderSubTypeConversionFactor\')"\r\n                                    :label="$tc(\'custom-bonus-system.detail.main.condition.labelSubType\')"\r\n                                    v-model="condition.subType"\r\n                                    v-if="condition.type == 2">\r\n                                    <option value="1">{{ $tc(\'custom-bonus-system.detail.main.condition.subType.conversionFactorCollect\') }}</option>\r\n                                    <option value="2">{{ $tc(\'custom-bonus-system.detail.main.condition.subType.conversionFactorRedeem\') }}</option>\r\n                                </sw-select-field>\r\n\r\n                                <sw-select-field\r\n                                        :placeholder="$tc(\'custom-bonus-system.detail.main.condition.placeholderSubTypeConversionFactor\')"\r\n                                        :label="$tc(\'custom-bonus-system.detail.main.condition.labelSubType\')"\r\n                                        v-model="condition.subType"\r\n                                        v-if="condition.type == 3">\r\n                                    <option value="1">{{ $tc(\'custom-bonus-system.detail.main.condition.subType.conversionFactorCollect\') }}</option>\r\n                                </sw-select-field>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_condition_detail_base_info_condition_content %}\r\n                                <sw-number-field\r\n                                    :label="$tc(\'custom-bonus-system.detail.main.condition.labelConversionFactorCollect\')"\r\n                                    v-if="condition.subType > 0 && (condition.type == 2 || condition.type == 3)"\r\n                                    v-model="condition.factor"\r\n                                    numberType="float"\r\n                                    :step="null"\r\n                                    :min="0"\r\n                                    :max="null"\r\n                                    :value="1"\r\n                                    :digits="2"\r\n                                    :allowEmpty="false">\r\n                                </sw-number-field>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                    </template>\r\n                </sw-card>\r\n            {% endblock %}\r\n\r\n\r\n            {% block custom_bonus_system_condition_detail_base_rule_info_card %}\r\n                <sw-card :title="$tc(\'custom-bonus-system.detail.main.condition.cardTitleConditionRuleInfo\')" :isLoading="conditionIsLoading">\r\n                    <template v-if="!conditionIsLoading">\r\n                        <custom-bonus-system-condition-line-item v-if="condition.type == 1 || condition.type == 3" :condition="condition" :level="0"></custom-bonus-system-condition-line-item>\r\n\r\n                        <custom-bonus-system-condition-line-item-in-category v-if="condition.type == 1" :condition="condition" :level="0"></custom-bonus-system-condition-line-item-in-category>\r\n\r\n                        <custom-bonus-system-condition-line-item-in-product-stream v-if="condition.type == 1 || condition.type == 3" :condition="condition" :level="0"></custom-bonus-system-condition-line-item-in-product-stream>\r\n\r\n                        <custom-bonus-system-condition-customer-group v-if="condition.type == 2" :condition="condition" :level="0"></custom-bonus-system-condition-customer-group>\r\n                        <custom-bonus-system-condition-customer-number v-if="condition.type == 2" :condition="condition" :level="0"></custom-bonus-system-condition-customer-number>\r\n                    </template>\r\n                </sw-card>\r\n            {% endblock %}\r\n        </sw-card-view>\r\n    {% endblock %}\r\n\r\n    </sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],mixins:[Y.getByName("placeholder"),Y.getByName("notification"),Y.getByName("discard-detail-page-changes")("condition-detail")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onCancel"},props:{conditionId:{type:String,required:!1,default:null}},data:function(){return{condition:null,isLoading:!1,isSaveSuccessful:!1}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){q(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({identifier:function(){return this.placeholder(this.condition,"name")},conditionCriteria:function(){return new W(this.page,this.limit)},conditionIsLoading:function(){return this.isLoading||null==this.condition},conditionRepository:function(){return this.repositoryFactory.create("custom_bonus_system_condition")},tooltipSave:function(){var t=this.$device.getSystemKey();return{message:"".concat(t," + S"),appearance:"light"}},tooltipCancel:function(){return{message:"ESC",appearance:"light"}}},J("condition",G["custom.bonus.system.condition.detail"].condition)),watch:{conditionId:function(){this.createdComponent()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.conditionId?this.loadEntityData():(this.condition=this.conditionRepository.create(Shopware.Context.api),void 0===this.condition.subType&&(this.condition.subType=1))},loadEntityData:function(){var t=this;this.isLoading=!0,this.conditionRepository.get(this.conditionId,Shopware.Context.api,this.conditionCriteria).then((function(e){t.isLoading=!1,t.condition=e,void 0===t.condition.subType&&(t.condition.subType=1)}))},onSave:function(){var t=this;this.isLoading=!0,this.condition.type=parseInt(this.condition.type,10),this.condition.subType=parseInt(this.condition.subType,10),this.conditionRepository.save(this.condition,Shopware.Context.api).then((function(){t.isLoading=!1,t.isSaveSuccessful=!0,null!==t.conditionId?t.loadEntityData():t.$router.push({name:"custom.bonus.system.conditiondetail",params:{id:t.condition.id}})})).catch((function(e){t.isLoading=!1;var n=t.condition.name;throw t.createNotificationError({title:t.$tc("global.default.error"),message:t.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:n})}),e}))},onCancel:function(){this.$router.push({name:"custom.bonus.system.condition"})}}});n("W+KP");var Q=Shopware,X=Q.Component,Z=Q.Mixin,tt=Shopware.Data.Criteria;X.register("custom-bonus-system-bonus-product",{template:'{% block custom_bonus_system_list %}\r\n<sw-page class="custom-bonus-system-bonus-product">\r\n    {% block sw_customer_list_search_bar %}\r\n    {% endblock %}\r\n\r\n    {% block custom_bonus_system_list_smart_bar_header %}\r\n        <template #smart-bar-header>\r\n            {% block custom_bonus_system_list_smart_bar_header_title %}\r\n                <h2>\r\n                    {% block custom_bonus_system_list_smart_bar_header_title_text %}\r\n                        {{ $tc(\'custom-bonus-system.list.bonusProduct.textOverview\') }}\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_list_smart_bar_header_amount %}\r\n                        <span v-if="!isLoading" class="sw-page__smart-bar-amount">\r\n                        ({{ total }})\r\n                        </span>\r\n                    {% endblock %}\r\n                </h2>\r\n            {% endblock %}\r\n        </template>\r\n    {% endblock %}\r\n\r\n    {% block custom_bonus_system_list_smart_bar_actions %}\r\n        <template slot="smart-bar-actions">\r\n            {% block custom_bonus_system_list_smart_bar_actions_add %}\r\n                <sw-button\r\n                    class="custom-bonus-system-list__button-add-promotion"\r\n                    :routerLink="{ name: \'custom.bonus.system.bonusproductcreate\' }"\r\n                    variant="primary">\r\n                    {{ $tc(\'custom-bonus-system.list.bonusProduct.buttonAddBonusProduct\') }}\r\n                </sw-button>\r\n            {% endblock %}\r\n        </template>\r\n    {% endblock %}\r\n\r\n    <template #content>\r\n            {% block custom_bonus_system_list_content %}\r\n            <div class="custom-bonus-system-bonus-product-list__content">\r\n                {% block custom_bonus_system_component_navigation %}\r\n                    <custom-bonus-system-navigation></custom-bonus-system-navigation>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_grid %}\r\n                    <sw-entity-listing ref="customBonusSystemBonusProductGrid"\r\n                                       v-if="bonusProduct"\r\n                                       class="sw-product-list-grid"\r\n                                       :items="bonusProduct"\r\n                                       :columns="columns"\r\n                                       :repository="repository"\r\n                                       :showSelection="true"\r\n                                       :allowDelete="true"\r\n                                       detailRoute="custom.bonus.system.bonusproductdetail"\r\n                                       :allowEdit="true"\r\n                                       :showSettings="true"\r\n                                       :isLoading="isLoading"\r\n                                       >\r\n                        {% block custom_bonus_system_list_grid_columns %}\r\n                            {% block custom_bonus_system_list_grid_columns_bonusProduct_name %}\r\n                                <template slot="column-product.name" slot-scope="{ item }">\r\n                                    <sw-product-variant-info :variations="item.product.variation">\r\n                                        {{ getProductTitle(item.product) }}\r\n                                    </sw-product-variant-info>\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_bonusProduct_active %}\r\n                                <template #column-active="{ item }">\r\n                                    <sw-icon v-if="item.active" name="regular-checkmark-xs" small class="is--active"/>\r\n                                    <sw-icon v-else name="regular-times-s" small class="is--inactive"/>\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_bonusProduct_validFrom %}\r\n                                <template #column-validFrom="{ item }">\r\n                                    {{ item.validFrom | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\r\n                                </template>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_list_grid_columns_bonusProduct_validUntil %}\r\n                                <template #column-validUntil="{ item }">\r\n                                    {{ item.validUntil | date({hour: \'2-digit\', minute: \'2-digit\'}) }}\r\n                                </template>\r\n                            {% endblock %}\r\n                        {% endblock %}\r\n                    </sw-entity-listing>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_list_empty_state %}\r\n                    <sw-empty-state v-if="!isLoading && !total" :title="$tc(\'custom-bonus-system.list.bonusProduct.messageEmpty\')"></sw-empty-state>\r\n                {% endblock %}\r\n            </div>\r\n            {% endblock %}\r\n    </template>\r\n\r\n    {% block custom_bonus_system_list_sidebar %}\r\n        <template #sidebar>\r\n            <sw-sidebar>\r\n                {% block custom_bonus_system_list_sidebar_refresh %}\r\n                    <sw-sidebar-item\r\n                            icon="regular-undo"\r\n                            :title="$tc(\'custom-bonus-system.list.titleSidebarItemRefresh\')"\r\n                            @click="onRefresh">\r\n                    </sw-sidebar-item>\r\n                {% endblock %}\r\n            </sw-sidebar>\r\n        </template>\r\n    {% endblock %}\r\n</sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],mixins:[Z.getByName("listing")],data:function(){return{sortBy:"createdAt",naturalSorting:!0,sortDirection:"DESC",bonusProduct:null,isLoading:!0,parentProducts:[]}},metaInfo:function(){return{title:this.$createTitle(),parentProducts:[]}},computed:{repository:function(){return this.repositoryFactory.create("custom_bonus_system_bonus_product")},productRepository:function(){return this.repositoryFactory.create("products")},productContext:function(){var t=Object.assign({},Shopware.Context.api);return t.inheritance=!0,t},columns:function(){return[{property:"product.name",label:this.$tc("custom-bonus-system.list.bonusProduct.columnName"),allowResize:!0},{property:"active",label:this.$tc("custom-bonus-system.list.bonusProduct.columnActive"),allowResize:!0},{property:"validFrom",label:this.$tc("custom-bonus-system.list.bonusProduct.columnValidFrom"),allowResize:!0},{property:"validUntil",label:this.$tc("custom-bonus-system.list.bonusProduct.columnValidUntil"),allowResize:!0}]},criteria:function(){var t=this,e=new tt;return this.naturalSorting="createdAt"===this.sortBy,this.sortBy.split(",").forEach((function(n){e.addSorting(tt.sort(n,t.sortDirection,t.naturalSorting))})),e.addAssociation("product"),e.addAssociation("product.options.group"),e.setTerm(this.term),e}},methods:{createdComponent:function(){var t=this,e=[];if(this.bonusProduct.forEach((function(t){t.product&&t.product.parentId&&e.push(t.product.parentId)})),0!==e.length){var n=new tt;n.setIds(e),this.productRepository.search(n,this.productContext).then((function(e){var n={};e.forEach((function(t){n[t.id]=t})),t.parentProducts=n}))}},onChangeLanguage:function(t){this.getList(t)},getList:function(){var t=this;return this.isLoading=!0,this.repository.search(this.criteria,this.productContext).then((function(e){t.bonusProduct=e,t.total=e.total,t.isLoading=!1}))},getProductTitle:function(t){if(t.hasOwnProperty("translated")&&t.translated.hasOwnProperty("name")&&null!==t.translated.name)return t.translated.name;if(null!==t.name)return t.name;if(t.parentId&&this.parentProducts[t.parentId]){var e=this.parentProducts[t.parentId];return e.translated.hasOwnProperty("name")?e.translated.name:e.name}return""}}});var et=Shopware,nt=et.Component,ot=et.Mixin,rt=Shopware.Data.Criteria;nt.register("custom-bonus-system-bonus-product-detail",{template:'{% block custom_bonus_system_bonus_product_detail %}\r\n    <sw-page class="custom-bonus-system-bonus-product-detail">\r\n\r\n        {% block custom_bonus_system_bonus_product_detail_header %}\r\n            <template #smart-bar-header>\r\n                <h2>{{ placeholder(bonusProduct, \'name\', $tc(\'custom-bonus-system.detail.main.bonusProduct.textHeadline\')) }}</h2>\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_bonus_product_detail_actions %}\r\n            <template #smart-bar-actions>\r\n\r\n                {% block custom_bonus_system_bonus_product_detail_actions_abort %}\r\n                    <sw-button :disabled="bonusProductIsLoading" v-tooltip.bottom="tooltipCancel" @click="onCancel">\r\n                        {{ $tc(\'custom-bonus-system.detail.main.bonusProduct.buttonCancel\') }}\r\n                    </sw-button>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_bonus_product_detail_actions_save %}\r\n                <sw-button-process\r\n                        class="custom-bonus-system-bonus-product-detail__save-action"\r\n                        :isLoading="isLoading"\r\n                        v-model="isSaveSuccessful"\r\n                        :disabled="isLoading"\r\n                        variant="primary"\r\n                        v-tooltip.bottom="tooltipSave"\r\n                        @click.prevent="onSave">\r\n                    {{ $tc(\'custom-bonus-system.detail.main.bonusProduct.buttonSave\') }}\r\n                </sw-button-process>\r\n                {% endblock %}\r\n\r\n            </template>\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_bonus_product_detail_content %}\r\n            <sw-card-view slot="content">\r\n\r\n            {% block custom_bonus_system_bonus_product_detail_base_basic_info_card %}\r\n                <sw-card :title="$tc(\'custom-bonus-system.detail.main.bonusProduct.cardTitleBonusProductBaseInfo\')" :isLoading="bonusProductIsLoading">\r\n                    <template v-if="!bonusProductIsLoading">\r\n                        <sw-container class="custom-bonus-system-bonus-product-detail__container"\r\n                                      columns="repeat(auto-fit, minmax(250px, 1fr)"\r\n                                      gap="0 30px">\r\n                            <div class="custom-bonus-system-bonus-product-detail__base-info-wrapper">\r\n\r\n                                {% block custom_bonus_system_bonus_product_detail_base_info_field_product %}\r\n                                    <sw-entity-single-select\r\n                                        entity="product"\r\n                                        :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.product\')"\r\n                                        :placeholder="$tc(\'custom-bonus-system.detail.main.bonusProduct.placeholderProduct\')"\r\n                                        :criteria="productCriteria"\r\n                                        v-model="bonusProduct.productId">\r\n\r\n                                        <template #selection-label-property="{ item }">\r\n                                            <slot\r\n                                                    name="selection-label-property"\r\n                                                    v-bind="{ item }"\r\n                                            >\r\n                                                {% block custom_bonus_system_bonus_product_detail_select_results_variant_info %}\r\n                                                    <sw-product-variant-info :variations="item.variation">\r\n                                                        {{ item.translated.name || item.name }}\r\n                                                    </sw-product-variant-info>\r\n                                                {% endblock %}\r\n                                            </slot>\r\n                                        </template>\r\n\r\n                                        <template #result-item="{ item, index }">\r\n                                            <slot\r\n                                                    name="result-item"\r\n                                                    v-bind="{ item, index }"\r\n                                            >\r\n                                                <li\r\n                                                        is="sw-select-result"\r\n                                                        v-bind="{ item, index }"\r\n                                                >\r\n                                                    {% block custom_bonus_system_bonus_product_detail_select_results_list_result_label %}\r\n                                                        <sw-product-variant-info :variations="item.variation">\r\n                                                            {{ item.translated.name || item.name }}\r\n                                                        </sw-product-variant-info>\r\n                                                    {% endblock %}\r\n                                                </li>\r\n                                            </slot>\r\n                                        </template>\r\n\r\n                                    </sw-entity-single-select>\r\n                                {% endblock %}\r\n                            </div>\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr 1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_bonus_product_detail_base_info_field_private %}\r\n                                <sw-checkbox-field v-model="bonusProduct.active"\r\n                                                   :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.labelActive\', bonusProduct.private)"\r\n                                                   size="small">\r\n                                </sw-checkbox-field>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_bonus_product_detail_base_info_field_amount %}\r\n                                <sw-number-field :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.labelMaxOrderQuantity\')"\r\n                                                 v-model="bonusProduct.maxOrderQuantity"\r\n                                ></sw-number-field>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr 1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_bonus_product_detail_base_info_valid_from_field %}\r\n                                <sw-datepicker dateType="datetime-local"\r\n                                               :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.labelValidFrom\')"\r\n                                               v-model="bonusProduct.validFrom">\r\n                                </sw-datepicker>\r\n                            {% endblock %}\r\n\r\n                            {% block custom_bonus_system_bonus_product_detail_base_info_valid_until_field %}\r\n                                <sw-datepicker dateType="datetime-local"\r\n                                               :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.labelValidUntil\')"\r\n                                               v-model="bonusProduct.validUntil">\r\n                                </sw-datepicker>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_bonus_product_detail_base_info_type %}\r\n                                <sw-select-field\r\n                                    :placeholder="$tc(\'custom-bonus-system.detail.main.bonusProduct.placeholderType\')"\r\n                                    :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.labelType\')"\r\n                                    required\r\n                                    v-model="bonusProduct.type">\r\n                                    <option value="0">{{ $tc(\'custom-bonus-system.detail.main.bonusProduct.type.usePluginSettingFactor\') }}</option>\r\n                                    <option value="1">{{ $tc(\'custom-bonus-system.detail.main.bonusProduct.type.pointValue\') }}</option>\r\n                                </sw-select-field>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                        <sw-container columns="1fr" gap="0px 30px">\r\n                            {% block custom_bonus_system_bonus_product_detail_base_info_value %}\r\n                                <sw-number-field\r\n                                    v-if="bonusProduct.type > 0"\r\n                                    :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.labelValue\')"\r\n                                    v-model="bonusProduct.value"\r\n                                    numberType="float"\r\n                                    :step="null"\r\n                                    :min="0"\r\n                                    :max="null"\r\n                                    :value="1"\r\n                                    :digits="2"\r\n                                    :allowEmpty="false">\r\n                                </sw-number-field>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n\r\n                        {% block custom_bonus_system_bonus_product_detail_base_info_only_buyable_with_points_field %}\r\n                            <sw-checkbox-field v-model="bonusProduct.onlyBuyableWithPoints"\r\n                                               :label="$tc(\'custom-bonus-system.detail.main.bonusProduct.labelOnlyBuyableWithPoints\')"\r\n                                               size="small">\r\n                            </sw-checkbox-field>\r\n                        {% endblock %}\r\n\r\n                    </template>\r\n                </sw-card>\r\n            {% endblock %}\r\n        </sw-card-view>\r\n    {% endblock %}\r\n\r\n    </sw-page>\r\n{% endblock %}\r\n',inject:["repositoryFactory"],mixins:[ot.getByName("placeholder"),ot.getByName("notification"),ot.getByName("discard-detail-page-changes")("bonus-product-detail")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onCancel"},props:{bonusProductId:{type:String,required:!1,default:null}},data:function(){return{bonusProduct:null,isLoading:!1,isSaveSuccessful:!1}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:{bonusProductCriteria:function(){return new rt(this.page,this.limit)},productCriteria:function(){var t=new rt;return t.addSorting(rt.sort("name","ASC",!0)),t.addAssociation("options.group"),t.addFilter(rt.multi("OR",[rt.equals("product.childCount",0),rt.equals("product.childCount",null)])),t.addFilter(rt.equals("product.active",1)),t},bonusProductIsLoading:function(){return this.isLoading||null==this.bonusProduct},bonusProductRepository:function(){return this.repositoryFactory.create("custom_bonus_system_bonus_product")},tooltipSave:function(){var t=this.$device.getSystemKey();return{message:"".concat(t," + S"),appearance:"light"}},tooltipCancel:function(){return{message:"ESC",appearance:"light"}}},watch:{bonusProductId:function(){this.createdComponent()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.bonusProductId?this.loadEntityData():this.bonusProduct=this.bonusProductRepository.create(Shopware.Context.api)},loadEntityData:function(){var t=this;this.isLoading=!0,this.bonusProductRepository.get(this.bonusProductId,Shopware.Context.api,this.bonusProductCriteria).then((function(e){t.isLoading=!1,e.type=e.type.toString(),t.bonusProduct=e}))},onSave:function(){var t=this;this.isLoading=!0,this.bonusProduct.type=parseInt(this.bonusProduct.type,10),this.bonusProductRepository.save(this.bonusProduct,Shopware.Context.api).then((function(){t.isLoading=!1,t.isSaveSuccessful=!0,null!==t.bonusProductId?t.loadEntityData():t.$router.push({name:"custom.bonus.system.bonusproductdetail",params:{id:t.bonusProduct.id}})})).catch((function(e){throw t.isLoading=!1,t.createNotificationError({title:t.$tc("global.default.error"),message:t.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:""})}),e}))},onCancel:function(){this.$router.push({name:"custom.bonus.system.bonusproduct"})}}});n("6pFg");Shopware.Component.register("custom-bonus-system-dashboard",{template:'{% block custom_bonus_system_dashboard %}\r\n    <sw-page class="custom-bonus-system-dashboard">\r\n        {% block custom_bonus_system_list_smart_bar_header %}\r\n            <template #smart-bar-header>\r\n                {% block custom_bonus_system_list_smart_bar_header_title %}\r\n                    <h2>\r\n                        {% block custom_bonus_system_list_smart_bar_header_title_text %}\r\n                            {{ $tc(\'custom-bonus-system.list.dashboard.textOverview\') }}\r\n                        {% endblock %}\r\n                    </h2>\r\n                {% endblock %}\r\n            </template>\r\n        {% endblock %}\r\n\r\n        <template #content>\r\n            {% block custom_bonus_system_list_content %}\r\n                <div class="sw-product-list__content">\r\n                    {% block custom_bonus_system_component_navigation %}\r\n                        {% block custom_bonus_system_component_navigation %}\r\n                            <custom-bonus-system-navigation></custom-bonus-system-navigation>\r\n                        {% endblock %}\r\n                    {% endblock %}\r\n\r\n                    {% block custom_bonus_system_dashboard_grid %}\r\n                        {% block custom_bonus_system_dashboard_sales_channels %}\r\n                            <sw-card :title="$tc(\'custom-bonus-system.list.dashboard.salesChannelsLabel\')" :isLoading="salesChannelsIsLoading" :large="true">\r\n                                <template #header-right>\r\n                                    <sw-single-select\r\n                                        id="dashboard-filter"\r\n                                        size="medium"\r\n                                        :options="filterValues"\r\n                                        v-model="filterValue"\r\n                                        class="bonus-points-dashboard-filter-select"\r\n                                        @change="initSumPointsSalesChannels()">\r\n                                    </sw-single-select>\r\n                                </template>\r\n                                <sw-data-grid\r\n                                    showSettings="true"\r\n                                    allowColumnEdit="true"\r\n                                    :data-source="sumPointsSalesChannels"\r\n                                    :columns="salesChannelColumns"\r\n                                    :show-selection="false"\r\n                                    :is-loading="salesChannelsIsLoading"\r\n                                >\r\n                                    <template #preview-salesChannel.name="{ item }">\r\n                                        <sw-icon class="custom-bonus-system-dashboard__sales-channel-icon" :name="item.salesChannel.type.iconName" size="18px"/>\r\n                                    </template>\r\n                                    <template #column-salesChannel.name="{ item }">\r\n                                        {% block custom_bonus_system_dashboard_sum_sales_channels_detail %}\r\n                                            <router-link :to="{ name: \'sw.sales.channel.detail\', params: { id: item.salesChannel.id } }">\r\n                                                {{ item.salesChannel.translated.name || item.salesChannel.name }}\r\n                                            </router-link>\r\n                                        {% endblock %}\r\n                                    </template>\r\n                                    <template #column-earned="{ item }">\r\n                                        {{ getPositiveValue(item.earned) }}\r\n                                    </template>\r\n                                    <template #column-spent="{ item }">\r\n                                        {{ getPositiveValue(item.spent) }}\r\n                                    </template>\r\n                                    <template #column-notApproved="{ item }">\r\n                                        {{ getPositiveValue(item.notApproved) }}\r\n                                    </template>\r\n                                    <template #column-credit="{ item }">\r\n                                        {{ getPositiveValue(item.credit) }}\r\n                                    </template>\r\n                                </sw-data-grid>\r\n                            </sw-card>\r\n                        {% endblock %}\r\n\r\n                        {% block custom_bonus_system_dashboard_customer_points %}\r\n                            <sw-container\r\n                            class="sw-container--large"\r\n                            columns="1fr 1fr"\r\n                            gap="0 20px"\r\n                        >\r\n                            {% block custom_bonus_system_dashboard_top_earned_points_customers %}\r\n                                <sw-card v-if="topEarnedPointsCustomers" :title="$tc(\'custom-bonus-system.list.dashboard.topEarnedPointsLabel\')" :isLoading="isLoading" :large="true">\r\n                                    <template #header-right>\r\n                                        {% block custom_bonus_system_dashboard_top_earned_points_customers_all_customers_link %}\r\n                                            <router-link\r\n                                                    v-if="topEarnedPointsCustomers"\r\n                                                    :to="{ name: \'custom.bonus.system.customer\' }"\r\n                                                    class="sw-card__quick-link"\r\n                                            >\r\n                                                {{ $tc(\'custom-bonus-system.list.dashboard.showAllLabel\') }}\r\n                                            </router-link>\r\n                                        {% endblock %}\r\n                                    </template>\r\n                                    <sw-data-grid\r\n                                            showSettings="true"\r\n                                            allowColumnEdit="true"\r\n                                            :data-source="topEarnedPointsCustomers"\r\n                                            :columns="topEarnedPointsCustomersColumns"\r\n                                            :show-selection="false"\r\n                                            :is-loading="isLoading"\r\n                                    >\r\n                                        <template #preview-customer.firstName="{ item }">\r\n                                            <sw-avatar\r\n                                                    :size="\'32px\'"\r\n                                                    :source-context="item.customer"\r\n                                                    :first-name="item.customer.firstName"\r\n                                                    :last-name="item.customer.lastName"\r\n                                            />\r\n                                        </template>\r\n                                        <template #column-customer.firstName="{ item }">\r\n                                            {% block custom_bonus_system_dashboard_top_earned_points_customer_detail %}\r\n                                                <router-link :to="{ name: \'custom.bonus.system.customerdetail\', params: { id: item.customer.id }, query: { edit: false } }">\r\n                                                    {{ item.customer.firstName }} {{ item.customer.lastName }}\r\n                                                </router-link>\r\n                                            {% endblock %}\r\n                                        </template>\r\n                                        <template #column-earned="{ item }">\r\n                                            {{ item.earned }}\r\n                                        </template>\r\n                                        <template #column-spent="{ item }">\r\n                                            {{ getPositiveValue(item.spent) }}\r\n                                        </template>\r\n                                    </sw-data-grid>\r\n                                </sw-card>\r\n                            {% endblock %}\r\n                            {% block custom_bonus_system_dashboard_top_credit_points_customers %}\r\n                                <sw-card v-if="topCreditPointsCustomers" :title="$tc(\'custom-bonus-system.list.dashboard.topCreditPointsLabel\')" :isLoading="isLoading" :large="true">\r\n                                    <template #header-right>\r\n                                        <router-link\r\n                                                v-if="topCreditPointsCustomers"\r\n                                                :to="{ name: \'custom.bonus.system.customer\' }"\r\n                                                class="sw-card__quick-link"\r\n                                        >\r\n                                            {{ $tc(\'custom-bonus-system.list.dashboard.showAllLabel\') }}\r\n                                        </router-link>\r\n                                    </template>\r\n                                    <sw-data-grid\r\n                                            showSettings="true"\r\n                                            allowColumnEdit="true"\r\n                                            :data-source="topCreditPointsCustomers"\r\n                                            :columns="topCreditPointsCustomersColumns"\r\n                                            :show-selection="false"\r\n                                            :is-loading="isLoading"\r\n                                    >\r\n                                        <template #preview-customer.firstName="{ item }">\r\n                                            <sw-avatar\r\n                                                    :size="\'32px\'"\r\n                                                    :source-context="item.customer"\r\n                                                    :first-name="item.customer.firstName"\r\n                                                    :last-name="item.customer.lastName"\r\n                                            />\r\n                                        </template>\r\n                                        <template #column-customer.firstName="{ item }">\r\n                                            {% block custom_bonus_system_dashboard_top_credit_points_customer_detail %}\r\n                                                <router-link :to="{ name: \'custom.bonus.system.customerdetail\', params: { id: item.customer.id }, query: { edit: false } }">\r\n                                                    {{ item.customer.firstName }} {{ item.customer.lastName }}\r\n                                                </router-link>\r\n                                            {% endblock %}\r\n                                        </template>\r\n                                        <template #column-points="{ item }">\r\n                                            {{ item.points }}\r\n                                        </template>\r\n                                    </sw-data-grid>\r\n                                </sw-card>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n                        {% endblock %}\r\n                    {% endblock %}\r\n                </div>\r\n            {% endblock %}\r\n        </template>\r\n    </sw-page>\r\n{% endblock %}\r\n',inject:["customBonusSystemApiService"],data:function(){return{isLoading:!1,salesChannelsIsLoading:!1,filterValue:"all",sumPointsSalesChannels:null,topEarnedPointsCustomers:null,topCreditPointsCustomers:null}},metaInfo:function(){return{title:this.$createTitle()}},created:function(){this.initSumPointsSalesChannels(),this.initTopEarnedPointsCustomers(),this.initTopCreditPointsCustomers()},computed:{filterValues:function(){return[{value:"all",label:this.$tc("custom-bonus-system.list.dashboard.filterAllLabel")},{value:"30",label:this.$tc("custom-bonus-system.list.dashboard.filterlast30DaysLabel")},{value:"14",label:this.$tc("custom-bonus-system.list.dashboard.filterlast14DaysLabel")},{value:"7",label:this.$tc("custom-bonus-system.list.dashboard.filterlast7DaysLabel")},{value:"1",label:this.$tc("custom-bonus-system.list.dashboard.filterlast24HoursLabel")},{value:"yesterday",label:this.$tc("custom-bonus-system.list.dashboard.filterSinceYesterdayLabel")}]},salesChannelColumns:function(){return[{property:"salesChannel.name",label:this.$tc("custom-bonus-system.list.dashboard.salesChannelLabel"),primary:!0},{property:"earned",label:this.$tc("custom-bonus-system.list.dashboard.pointsEarnedLabel")},{property:"spent",label:this.$tc("custom-bonus-system.list.dashboard.pointsSpentLabel")},{property:"notApproved",label:this.$tc("custom-bonus-system.list.dashboard.pointsNotApprovedLabel")},{property:"credit",label:this.$tc("custom-bonus-system.list.dashboard.pointsCreditLabel")}]},topEarnedPointsCustomersColumns:function(){return[{property:"customer.firstName",label:this.$tc("custom-bonus-system.list.dashboard.customerLabel"),primary:!0},{property:"earned",label:this.$tc("custom-bonus-system.list.dashboard.pointsEarnedLabel")},{property:"spent",label:this.$tc("custom-bonus-system.list.dashboard.pointsSpentLabel")}]},topCreditPointsCustomersColumns:function(){return[{property:"customer.firstName",label:this.$tc("custom-bonus-system.list.dashboard.customerLabel"),primary:!0},{property:"points",label:this.$tc("custom-bonus-system.list.dashboard.pointsCreditLabel")}]}},methods:{initSumPointsSalesChannels:function(){var t=this;this.salesChannelsIsLoading=!0,this.customBonusSystemApiService.getSumPointsSalesChannels(this.filterValue).then((function(e){t.sumPointsSalesChannels=e.items,t.salesChannelsIsLoading=!1}))},initTopEarnedPointsCustomers:function(){var t=this;this.isLoading=!0,this.customBonusSystemApiService.getTopEarnedPointsCustomers().then((function(e){t.topEarnedPointsCustomers=e.items.filter((function(t){return t.customer})),t.isLoading=!1}))},initTopCreditPointsCustomers:function(){var t=this;this.isLoading=!0,this.customBonusSystemApiService.getTopCreditPointsCustomers().then((function(e){t.topCreditPointsCustomers=e.items.filter((function(t){return t.customer})),t.isLoading=!1}))},getPositiveValue:function(t){return t<0?-1*t:t||0}}});var st=Shopware.Component,it=Shopware.Data.Criteria;st.extend("custom-bonus-system-booking-list","sw-entity-listing",{template:'{% block sw_data_grid_bulk_selected_actions_content %}\n    <a class="link link-danger" @click="approveItems()">\n        {{ $tc(\'custom-bonus-system.list.booking.approve\') }}\n    </a>\n    {% parent %}\n{% endblock %}\n\n',inject:["repositoryFactory"],methods:{approveItems:function(){var t=this,e=this,n=this.repositoryFactory.create("custom_bonus_system_user_point"),o={};return Object.values(this.selection).forEach((function(e){!1===e.approved&&(e.approved=!0,t.repository.save(e,Shopware.Context.api),void 0===o[e.customerId]&&(o[e.customerId]=0),o[e.customerId]+=e.points)})),Object.keys(o).forEach((function(t){var r=new it;r.addFilter(it.equals("customerId",t)),r.limit=1,n.search(r,Shopware.Context.api).then((function(r){if(r.total>0)r.forEach((function(e){e.points+=o[t],n.save(e,Shopware.Context.api)}));else{var s=n.create(Shopware.Context.api);s.points=o[t],s.customerId=t,n.save(s,Shopware.Context.api)}e.doSearch()}))})),this.doSearch()}}});n("irca");var at=Shopware.Component,ct=Shopware.Data.Criteria;at.extend("custom-bonus-system-user-point-listing","sw-entity-listing",{template:'{% block sw_data_grid_slot_actions %}\r\n    <slot name="detail-action" v-bind="{ item }">\r\n        <sw-context-menu-item class="sw-entity-listing__context-menu-edit-action"\r\n                              v-if="detailRoute"\r\n                              :disabled="!allowEdit && !allowView"\r\n                              :routerLink="{ name: detailRoute, params: { id: item.id } }">\r\n            {{ $tc(\'custom-bonus-system.list.userPoint.viewDetails\') }}\r\n        </sw-context-menu-item>\r\n    </slot>\r\n    <slot name="point-booking-action" v-bind="{ item, displayPointBookingModal }">\r\n        <sw-context-menu-item class="sw-entity-listing__context-menu-point-action"\r\n                              @click="displayPointBookingModal(item.id, item.salesChannelId)"\r\n        >\r\n            {{ $tc(\'custom-bonus-system.list.userPoint.bookLink\') }}\r\n        </sw-context-menu-item>\r\n    </slot>\r\n{% endblock %}\r\n\r\n{% block sw_data_grid_slot_action_modals %}\r\n    {% parent %}\r\n    <sw-modal v-if="pointBookingId === item.id"\r\n              @modal-close="closePointBookingModal"\r\n              :title="$tc(\'custom-bonus-system.list.userPoint.modal.title\')"\r\n              variant="small">\r\n        <div v-if="bookingFormError" class="point-booking-form-error">\r\n            <p>{{ $tc(\'custom-bonus-system.list.userPoint.modal.formError\') }}</p>\r\n        </div>\r\n\r\n        <p class="sw-data-grid__confirm-bulk-delete-text">\r\n            {{ $tc(\'custom-bonus-system.list.userPoint.modal.bookReason\') }}\r\n            <sw-text-field :copyable="false" :copyableTooltip="false" v-model="pointBookingReason">\r\n            </sw-text-field>\r\n            {{ $tc(\'custom-bonus-system.list.userPoint.modal.bookPoints\') }}\r\n            <sw-number-field numberType="int" :step="1" :min="null" :max="null" :value="null" :digits="0" v-model="pointBookingPoints">\r\n            </sw-number-field>\r\n        </p>\r\n\r\n        <template #modal-footer>\r\n            <slot name="point-booking-modal-cancel">\r\n                <sw-button @click="closePointBookingModal" size="small">\r\n                    {{ $tc(\'global.default.cancel\') }}\r\n                </sw-button>\r\n            </slot>\r\n\r\n            <slot name="point-booking-modal-submit">\r\n                <sw-button @click="bookPoints" variant="primary" size="small">\r\n                    {{ $tc(\'custom-bonus-system.list.userPoint.modal.bookSubmit\') }}\r\n                </sw-button>\r\n            </slot>\r\n        </template>\r\n    </sw-modal>\r\n{% endblock %}\r\n\r\n',inject:["repositoryFactory"],data:function(){return{deleteId:null,showBulkDeleteModal:!1,isBulkLoading:!1,page:1,limit:this.criteriaLimit,total:10,lastSortedColumn:null,showPointBookingModal:!1,pointBookingId:null,pointBookingSalesChannelId:null,pointBookingPoints:null,pointBookingReason:null,bookingFormError:0}},methods:{applyResult:function(t){t.forEach((function(t){t.extensions&&t.extensions.customBonusSystemUserPoint&&t.extensions.customBonusSystemUserPoint.points?t.points=t.extensions.customBonusSystemUserPoint.points:t.points=0})),this.records=t,this.total=t.total,this.page=t.criteria.page,this.limit=t.criteria.limit,this.loading=!1,this.$emit("update-records",t)},bookPoints:function(){var t=this;if(this.pointBookingReason&&this.pointBookingPoints&&0!==this.pointBookingPoints){this.bookingFormError=0,this.customerId=this.pointBookingId,this.pointBookingId=null,this.bonusBookingRepository=this.repositoryFactory.create("custom_bonus_system_booking");var e=this.bonusBookingRepository.create(Shopware.Context.api);e.customerId=this.customerId,e.description=this.pointBookingReason,e.points=this.pointBookingPoints,e.salesChannelId=this.pointBookingSalesChannelId,e.approved=!0,this.bonusBookingRepository.save(e,Shopware.Context.api),this.userPointRepository=this.repositoryFactory.create("custom_bonus_system_user_point"),this.criteria=new ct,this.criteria.addFilter(ct.equals("customerId",this.customerId)),this.criteria.limit=1,this.userPointRepository.search(this.criteria,Shopware.Context.api).then((function(e){if(e.total>0)e.forEach((function(e){e.points+=t.pointBookingPoints,t.userPointRepository.save(e,Shopware.Context.api).then((function(){return t.doSearch()}))}));else{var n=t.userPointRepository.create(Shopware.Context.api);n.points=t.pointBookingPoints,n.customerId=t.customerId,t.userPointRepository.save(n,Shopware.Context.api).then((function(){return t.doSearch()}))}}))}else this.bookingFormError=1},displayPointBookingModal:function(t,e){this.pointBookingId=t,this.pointBookingSalesChannelId=e},closePointBookingModal:function(){this.pointBookingId=null,this.pointBookingSalesChannelId=null,this.pointBookingPoints=null,this.pointBookingReason=null}}});function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==lt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==lt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===lt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bt=Shopware,pt=bt.Component,yt=bt.Context,ft=(pt.getComponentHelper().mapPropertyErrors,Shopware.Data),_t=ft.EntityCollection,ht=ft.Criteria;pt.register("custom-bonus-system-condition-customer-group",{template:'{% block sw_condition_value_content %}\n    <div class="sw-condition-customer-group sw-condition__condition-value">\n\n        {% block sw_condition_customer_group_field_customer_group_ids %}\n            <sw-entity-multi-select\n                :label="$tc(\'custom-bonus-system.detail.main.condition.cardTitleConditionRule.labelConditionRuleCustomerGroup\')"\n                size="medium"\n                entity="customer_group"\n                :entityCollection="customerGroups"\n                @change="setCustomerGroupIds">\n            </sw-entity-multi-select>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inheritAttrs:!1,inject:["repositoryFactory"],props:{condition:{type:Object,required:!1,default:null}},created:function(){this.createdComponent()},data:function(){return{customerGroups:null}},computed:{customerGroupRepository:function(){return this.repositoryFactory.create("customer_group")},customerGroupIds:{get:function(){return this.ensureValueExist(),this.condition.customerGroupCondition.customerGroupIds||[]},set:function(t){this.ensureValueExist(),this.condition.customerGroupCondition=mt(mt({},this.condition.value),{},{customerGroupIds:t})}}},methods:{ensureValueExist:function(){void 0!==this.condition.customerGroupCondition&&null!==this.condition.customerGroupCondition||(this.condition.customerGroupCondition={})},createdComponent:function(){var t=this;if(this.customerGroups=new _t(this.customerGroupRepository.route,this.customerGroupRepository.entityName,yt.api),this.customerGroupIds.length<=0)return Promise.resolve();var e=new ht;return e.setIds(this.customerGroupIds),this.customerGroupRepository.search(e,yt.api).then((function(e){t.customerGroups=e}))},setCustomerGroupIds:function(t){this.customerGroupIds=t.getIds(),this.customerGroups=t}}});function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){kt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==gt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==gt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt=Shopware.Component;Pt.getComponentHelper().mapPropertyErrors;Pt.register("custom-bonus-system-condition-customer-number",{template:'{% block sw_condition_value_content %}\r\n    <div class="sw-condition-billing-customer-number sw-condition__condition-value">\r\n        {% block sw_condition_billing_customer_number_field_numbers %}\r\n            <sw-tagged-field\r\n                    :label="$tc(\'custom-bonus-system.detail.main.condition.cardTitleConditionRule.labelConditionRuleCustomerNumber\')"\r\n                    size="medium"\r\n                    v-model="customerNumbers">\r\n            </sw-tagged-field>\r\n        {% endblock %}\r\n    </div>\r\n{% endblock %}',props:{condition:{type:Object,required:!1,default:null}},computed:{customerNumbers:{get:function(){return this.ensureValueExist(),this.condition.customerNumberCondition.numbers||[]},set:function(t){this.ensureValueExist(),this.condition.customerNumberCondition=wt(wt({},this.condition.customerNumberCondition),{},{numbers:t})}}},methods:{ensureValueExist:function(){void 0!==this.condition.customerNumberCondition&&null!==this.condition.customerNumberCondition||(this.condition.customerNumberCondition={})}}});n("upwz");function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){xt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==St(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==St(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===St(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt=Shopware.Component,Et=(Lt.getComponentHelper().mapPropertyErrors,Shopware.Data),jt=Et.EntityCollection,It=Et.Criteria;Lt.register("custom-bonus-system-condition-line-item",{template:'{% block sw_condition_value_content %}\n    <div class="sw-condition-line-item sw-condition__condition-value">\n        {% block sw_condition_line_item_field_identifier %}\n            <sw-entity-multi-select\n                :label="$tc(\'custom-bonus-system.detail.main.condition.cardTitleConditionRule.labelConditionRuleProduct\')"\n                entity="product"\n                size="medium"\n                :entityCollection="products"\n                :criteria="productCriteria"\n                :context="productContext"\n                @change="setIds">\n                <template #selection-label-property="{ item }">\n                    <slot name="selection-label-property" v-bind="{ item }">\n                        {% block sw_condition_line_item_results_variant_info %}\n                            <sw-product-variant-info\n                                :variations="item.variation">\n                                {{ item.translated.name || item.name }}\n                            </sw-product-variant-info>\n                        {% endblock %}\n                    </slot>\n                </template>\n\n                <template #result-item="{ item, index, searchTerm, highlightSearchTerm }">\n                    <slot name="result-item" v-bind="{ item, index, searchTerm, highlightSearchTerm }">\n                        <li is="sw-select-result" v-bind="{ item, index, searchTerm, highlightSearchTerm }">\n                            {% block sw_condition_line_item_results_list_result_label %}\n                                <span class="sw-select-result__result-item-text">\n                                    <sw-product-variant-info\n                                        :variations="item.variation"\n                                        :highlighted="highlightSearchTerm"\n                                        :searchTerm="searchTerm">\n                                            {{ item.translated.name || item.name }}\n                                    </sw-product-variant-info>\n                                </span>\n                            {% endblock %}\n                        </li>\n                    </slot>\n                </template>\n            </sw-entity-multi-select>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["repositoryFactory"],props:{condition:{type:Object,required:!1,default:null}},computed:{productRepository:function(){return this.repositoryFactory.create("product")},productIds:{get:function(){return this.ensureValueExist(),this.condition.productCondition.identifiers||[]},set:function(t){this.ensureValueExist(),this.condition.productCondition=Ot(Ot({},this.condition.productCondition),{},{identifiers:t})}},productCriteria:function(){var t=new It;return t.addAssociation("options.group"),t},resultCriteria:function(){var t=new It;return t.addAssociation("options.group"),t},productContext:function(){return Ot(Ot({},Shopware.Context.api),{},{inheritance:!0})}},data:function(){return{products:null}},created:function(){this.createdComponent()},methods:{ensureValueExist:function(){void 0!==this.condition.productCondition&&null!==this.condition.productCondition||(this.condition.productCondition={})},createdComponent:function(){var t=this;if(this.products=new jt(this.productRepository.route,this.productRepository.entityName,this.productContext),this.productIds.length<=0)return Promise.resolve();var e=new It;return e.addAssociation("options.group"),e.setIds(this.productIds),this.productRepository.search(e,this.productContext).then((function(e){t.products=e}))},setIds:function(t){this.productIds=t.getIds(),this.products=t}}});function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach((function(e){Nt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Bt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==Bt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rt=Shopware,Tt=Rt.Component,At=Rt.Context,Dt=(Tt.getComponentHelper().mapPropertyErrors,Shopware.Data),Mt=Dt.EntityCollection,Vt=Dt.Criteria;Tt.register("custom-bonus-system-condition-line-item-in-category",{template:'{% block sw_condition_value_content %}\n    <div class="sw-condition-line-item-in-category sw-condition__condition-value">\n        {% block sw_condition_line_item_in_category_field_identifiers %}\n            <sw-entity-multi-select\n                :label="$tc(\'custom-bonus-system.detail.main.condition.cardTitleConditionRule.labelConditionRuleCategory\')"\n                size="medium"\n                entity="category"\n                :entityCollection="categories"\n                @change="setCategoryIds">\n            </sw-entity-multi-select>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inheritAttrs:!1,inject:["repositoryFactory"],props:{condition:{type:Object,required:!1,default:null}},created:function(){this.createdComponent()},data:function(){return{categories:null}},computed:{categoryRepository:function(){return this.repositoryFactory.create("category")},categoryIds:{get:function(){return this.ensureValueExist(),this.condition.categoryCondition.categoryIds||[]},set:function(t){this.ensureValueExist(),this.condition.categoryCondition=Ft(Ft({},this.condition.categoryCondition),{},{categoryIds:t})}}},methods:{ensureValueExist:function(){void 0!==this.condition.categoryCondition&&null!==this.condition.categoryCondition||(this.condition.categoryCondition={})},createdComponent:function(){var t=this;if(this.categories=new Mt(this.categoryRepository.route,this.categoryRepository.entityName,At.api),this.categoryIds.length<=0)return Promise.resolve();var e=new Vt;return e.setIds(this.categoryIds),this.categoryRepository.search(e,At.api).then((function(e){t.categories=e}))},setCategoryIds:function(t){this.categoryIds=t.getIds(),this.categories=t}}});function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach((function(e){qt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Gt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==Gt(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ht=Shopware,Kt=Ht.Component,Yt=Ht.Context,Wt=(Kt.getComponentHelper().mapPropertyErrors,Shopware.Data),Jt=Wt.EntityCollection,Qt=Wt.Criteria;Kt.register("custom-bonus-system-condition-line-item-in-product-stream",{template:'{% block sw_condition_value_content %}\r\n    <div class="sw-condition-product-stream sw-condition__condition-value">\r\n\r\n        {% block sw_condition_customer_group_field_product_stream_ids %}\r\n            <sw-entity-multi-select\r\n                    :label="$tc(\'custom-bonus-system.detail.main.condition.cardTitleConditionRule.labelConditionRuleStream\')"\r\n                    size="medium"\r\n                    entity="product_stream"\r\n                    :entityCollection="streams"\r\n                    @change="setStreamIds">\r\n            </sw-entity-multi-select>\r\n        {% endblock %}\r\n    </div>\r\n{% endblock %}',inheritAttrs:!1,inject:["repositoryFactory"],props:{condition:{type:Object,required:!1,default:null}},created:function(){this.createdComponent()},data:function(){return{streams:null}},computed:{streamRepository:function(){return this.repositoryFactory.create("product_stream")},streamIds:{get:function(){return this.ensureValueExist(),this.condition.streamCondition.streamIds||[]},set:function(t){this.ensureValueExist(),this.condition.streamCondition=Ut(Ut({},this.condition.streamCondition),{},{streamIds:t})}}},methods:{ensureValueExist:function(){void 0!==this.condition.streamCondition&&null!==this.condition.streamCondition||(this.condition.streamCondition={})},createdComponent:function(){var t=this;if(this.streams=new Jt(this.streamRepository.route,this.streamRepository.entityName,Yt.api),this.streamIds.length<=0)return Promise.resolve();var e=new Qt;return e.setIds(this.streamIds),this.streamRepository.search(e,Yt.api).then((function(e){t.streams=e}))},setStreamIds:function(t){this.streamIds=t.getIds(),this.streams=t}}});Shopware.Component.register("custom-bonus-system-navigation",{template:"{% block custom_bonus_system_component_navigation %}\r\n        <sw-tabs class=\"custom-bonus-system-detail-page__tabs\">\r\n                {% block custom_bonus_system_content_tabs_index %}\r\n                        <sw-tabs-item :route=\"{ name: 'custom.bonus.system.index'}\"\r\n                                      :title=\"$tc('custom-bonus-system.general.bonusDashboardMenuItem')\"\r\n                        >\r\n                                {{ $tc('custom-bonus-system.general.bonusDashboardMenuItem') }}\r\n                        </sw-tabs-item>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_content_tabs_booking %}\r\n                        <sw-tabs-item :route=\"{ name: 'custom.bonus.system.booking'}\"\r\n                                      :title=\"$tc('custom-bonus-system.general.bonusOrderMenuItem')\"\r\n                        >\r\n                                {{ $tc('custom-bonus-system.general.bonusOrderMenuItem') }}\r\n                        </sw-tabs-item>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_content_tabs_customer %}\r\n                        <sw-tabs-item :route=\"{ name: 'custom.bonus.system.customer'}\"\r\n                                      :title=\"$tc('custom-bonus-system.general.customerMenuItem')\"\r\n                        >\r\n                                {{ $tc('custom-bonus-system.general.customerMenuItem') }}\r\n                        </sw-tabs-item>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_detail_content_tabs_condition %}\r\n                        <sw-tabs-item :route=\"{ name: 'custom.bonus.system.condition'}\"\r\n                                      :title=\"$tc('custom-bonus-system.general.conditionMenuItem')\"\r\n                        >\r\n                                {{ $tc('custom-bonus-system.general.conditionMenuItem') }}\r\n                        </sw-tabs-item>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_detail_content_tabs_bonus_product %}\r\n                        <sw-tabs-item :route=\"{ name: 'custom.bonus.system.bonusproduct'}\"\r\n                                      :title=\"$tc('custom-bonus-system.general.bonusProductMenuItem')\"\r\n                        >\r\n                                {{ $tc('custom-bonus-system.general.bonusProductMenuItem') }}\r\n                        </sw-tabs-item>\r\n                {% endblock %}\r\n        </sw-tabs>\r\n{% endblock %}\r\n"});var Xt=n("lpnv"),Zt=n("UBhF");Shopware.Module.register("custom-bonus-system",{type:"plugin",name:"Bonus system",title:"Bonus system module",description:"Module for bonus administration",color:"#62ff80",icon:"regular-megaphone",snippets:{"de-DE":Xt,"en-GB":Zt},routes:{index:{component:"custom-bonus-system-dashboard",path:"index"},booking:{component:"custom-bonus-system-booking",path:"booking"},customer:{component:"custom-bonus-system-customer",path:"customer"},customerdetail:{component:"custom-bonus-system-customer-detail",path:"customerdetail/:id",props:{default:function(t){return{customerId:t.params.id}}}},condition:{component:"custom-bonus-system-condition",path:"condition"},conditioncreate:{component:"custom-bonus-system-condition-detail",path:"conditioncreate"},conditiondetail:{component:"custom-bonus-system-condition-detail",path:"conditiondetail/:id",props:{default:function(t){return{conditionId:t.params.id}}}},bonusproduct:{component:"custom-bonus-system-bonus-product",path:"bonusproduct"},bonusproductcreate:{component:"custom-bonus-system-bonus-product-detail",path:"bonusproductcreate"},bonusproductdetail:{component:"custom-bonus-system-bonus-product-detail",path:"bonusproductdetail/:id",props:{default:function(t){return{bonusProductId:t.params.id}}}}},navigation:[{path:"custom.bonus.system.index",label:"custom-bonus-system.general.menuItem",color:"#57D9A3",parent:"sw-marketing",position:30}]});function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==te(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==te(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===te(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Shopware.Component.extend("custom-bonus-system-has-points","sw-condition-base",{template:'{% block sw_condition_value_content %}\r\n    <sw-single-select name="has-points"\r\n                      id="has-points"\r\n                      size="medium"\r\n                      :options="selectValues"\r\n                      v-model="hasPoints"\r\n                      class="field--main">\r\n    </sw-single-select>\r\n{% endblock %}',computed:{selectValues:function(){return[{label:this.$tc("global.sw-condition.condition.yes"),value:!0},{label:this.$tc("global.sw-condition.condition.no"),value:!1}]},hasPoints:{get:function(){return this.ensureValueExist(),null==this.condition.value.hasPoints&&(this.condition.value.hasPoints=!1),this.condition.value.hasPoints},set:function(t){this.ensureValueExist(),this.condition.value=ne(ne({},this.condition.value),{},{hasPoints:t})}}}});function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach((function(e){ae(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ae(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==re(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==re(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===re(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ce=Shopware.Component.getComponentHelper().mapPropertyErrors;Shopware.Component.extend("custom-bonus-system-customer-points","sw-condition-base",{template:'{% block sw_condition_value_content %}\r\n    <div class="sw-condition-point-count sw-condition__condition-value">\r\n        {% block sw_condition_point_count_field_operator %}\r\n            <sw-condition-operator-select\r\n                    v-bind="{ operators, condition }"\r\n                    :disabled="disabled"\r\n            />\r\n        {% endblock %}\r\n\r\n        {% block sw_condition_point_count_field_count %}\r\n            <sw-number-field\r\n                    v-model="count"\r\n                    size="medium"\r\n                    number-type="int"\r\n                    :step="1"\r\n                    :disabled="disabled"\r\n            />\r\n        {% endblock %}\r\n    </div>\r\n{% endblock %}',computed:ie(ie({operators:function(){return this.conditionDataProviderService.getOperatorSet("number")},count:{get:function(){return this.ensureValueExist(),this.condition.value.count},set:function(t){this.ensureValueExist(),this.condition.value=ie(ie({},this.condition.value),{},{count:t})}}},ce("condition",["value.operator","value.count"])),{},{currentError:function(){return this.conditionTypeError||this.conditionValueOperatorError||this.conditionValueCountError}})});Shopware.Utils.object.merge;Shopware.Application.addServiceProviderDecorator("ruleConditionDataProviderService",(function(t){return t.addCondition("customer_has_bonus_points",{component:"custom-bonus-system-has-points",label:"custom-bonus-system.customRule.customerHasBonusPoints.label",scopes:["global"]}),t.addCondition("customer_bonus_points",{component:"custom-bonus-system-customer-points",label:"custom-bonus-system.customRule.customerBonusPoints.label",scopes:["global"]}),t}));var le=Object.freeze({CHANGE_BONUS_POINTS:"action.change.bonus.points"}),ue="customer";function me(t){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?de(Object(n),!0).forEach((function(e){pe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pe(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==me(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==me(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===me(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Shopware.Component.override("sw-flow-sequence-action",{computed:{modalName:function(){return this.selectedAction===le.CHANGE_BONUS_POINTS?"custom-bonus-system-flow-builder-change-points-modal":this.$super("modalName")},actionDescription:function(){var t=this;return be(be({},this.$super("actionDescription")),{},pe({},le.CHANGE_BONUS_POINTS,(function(e){return t.getChangePointsDescription(e)})))}},methods:{getChangePointsDescription:function(t){return this.$tc("custom-bonus-system.flow-builder.change-points.description")},getActionTitle:function(t){return t===le.CHANGE_BONUS_POINTS?{value:t,icon:"regular-circle",label:this.$tc("custom-bonus-system.flow-builder.change-points.title-change-points"),group:ue}:this.$super("getActionTitle",t)}}});function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){he(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function he(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ye(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==ye(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ye(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Shopware.Component.register("custom-bonus-system-flow-builder-change-points-modal",{template:'{% block custom_bonus_system_flow_builder_change_points_modal %}\r\n    <sw-modal\r\n            class="change-points-modal"\r\n            :title="$tc(\'swag-example-plugin.titleCreateTag\')"\r\n            @modal-close="onClose"\r\n    >\r\n        {% block custom_bonus_system_flow_builder_change_points_modal_description %}\r\n            <sw-text-field\r\n                    v-model="description"\r\n                    :copyable="true"\r\n                    :copyableTooltip="false"\r\n                    :label="$tc(\'custom-bonus-system.flow-builder.change-points.label-description\')"\r\n            />\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_flow_builder_change_points_modal_points %}\r\n            <sw-number-field\r\n                    v-model="points"\r\n                    numberType="int"\r\n                    :step="1"\r\n                    :max="null"\r\n                    :value="0"\r\n                    :digits="0"\r\n                    :fillDigits="false"\r\n                    :allowEmpty="false"\r\n                    :label="$tc(\'custom-bonus-system.flow-builder.change-points.label-points\')"\r\n            />\r\n        {% endblock %}\r\n\r\n        {% block custom_bonus_system_flow_builder_change_points_modal_footer %}\r\n            <template #modal-footer>\r\n                {% block custom_bonus_system_flow_builder_change_points_modal_footer_cancel_button %}\r\n                    <sw-button\r\n                            class="change-points-modal__cancel-button"\r\n                            size="small"\r\n                            @click="onClose"\r\n                    >\r\n                        {{ $tc(\'global.default.cancel\') }}\r\n                    </sw-button>\r\n                {% endblock %}\r\n\r\n                {% block custom_bonus_system_flow_builder_change_points_modal_footer_save_button %}\r\n                    <sw-button\r\n                            class="change-points-modal-modal__save-button"\r\n                            variant="primary"\r\n                            size="small"\r\n                            @click="onAddAction"\r\n                    >\r\n                        {{ $tc(\'custom-bonus-system.flow-builder.change-points.button-save-action\') }}\r\n                    </sw-button>\r\n                {% endblock %}\r\n            </template>\r\n        {% endblock %}\r\n    </sw-modal>\r\n{% endblock %}',props:{sequence:{type:Object,required:!0}},data:function(){return{points:0,description:""}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var t,e,n,o;this.points=(null===(t=this.sequence)||void 0===t||null===(e=t.config)||void 0===e?void 0:e.points)||0,this.description=(null===(n=this.sequence)||void 0===n||null===(o=n.config)||void 0===o?void 0:o.description)||""},onClose:function(){this.$emit("modal-close")},onAddAction:function(){var t=_e(_e({},this.sequence),{},{config:_e(_e({},this.config),{},{points:this.points,description:this.description})});this.$emit("process-finish",t)}}});var ge=n("jhEz"),ve=n("MV51");Shopware.Locale.extend("de-DE",ge),Shopware.Locale.extend("en-GB",ve),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("pointsToRedeem"),e=document.getElementById("pointsToRedeemValue");console.log("value"),t.oninput=function(){e.innerHTML=this.value}}))},"6pFg":function(t,e,n){var o=n("jWFI");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("539bdcdc",o,!0,{})},FGHG:function(t,e,n){var o=n("Nd+R");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("992fee92",o,!0,{})},Flql:function(t,e,n){var o=n("xrj/");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("6b994b10",o,!0,{})},"J2/+":function(t,e,n){var o=n("XSRk");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("9e02e456",o,!0,{})},M7y0:function(t,e,n){},MV51:function(t){t.exports=JSON.parse('{"global":{"businessEvents":{"bonus_system_customer_points_changed":"Bonus points changed"}},"custom-bonus-system":{"flow-builder":{"change-points":{"title-change-points":"Change points","description":"Change points","label-description":"Reason","label-points":"Points","button-save-action":"Save"}}},"swag-migration":{"index":{"selectDataCard":{"entities":{"custom_bonus_system_user_point":"Bonus points:"}}}}}')},"Nd+R":function(t,e,n){},OeXX:function(t,e,n){},P8hj:function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},r=0;r<e.length;r++){var s=e[r],i=s[0],a={id:t+":"+r,css:s[1],media:s[2],sourceMap:s[3]};o[i]?o[i].parts.push(a):n.push(o[i]={id:i,parts:[a]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},i=r&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,l=!1,u=function(){},m=null,d="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,r){l=n,m=r||{};var i=o(t,e);return y(i),function(e){for(var n=[],r=0;r<i.length;r++){var a=i[r];(c=s[a.id]).refs--,n.push(c)}e?y(i=o(t,e)):i=[];for(r=0;r<n.length;r++){var c;if(0===(c=n[r]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete s[c.id]}}}}function y(t){for(var e=0;e<t.length;e++){var n=t[e],o=s[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(_(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var i=[];for(r=0;r<n.parts.length;r++)i.push(_(n.parts[r]));s[n.id]={id:n.id,refs:1,parts:i}}}}function f(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function _(t){var e,n,o=document.querySelector("style["+d+'~="'+t.id+'"]');if(o){if(l)return u;o.parentNode.removeChild(o)}if(b){var r=c++;o=a||(a=f()),e=v.bind(null,o,r,!1),n=v.bind(null,o,r,!0)}else o=f(),e=w.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var h,g=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function v(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var s=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(s,i[e]):t.appendChild(s)}}function w(t,e){var n=e.css,o=e.media,r=e.sourceMap;if(o&&t.setAttribute("media",o),m.ssrId&&t.setAttribute(d,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},RBvt:function(t,e,n){var o=n("oNWt");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("2b90b056",o,!0,{})},T1wt:function(t,e,n){var o=n("055v");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("56588597",o,!0,{})},UBhF:function(t){t.exports=JSON.parse('{"custom-bonus-system":{"customRule":{"customerHasBonusPoints":{"label":"Customer has bonus points"},"customerBonusPoints":{"label":"Customer Bonus Points"}},"general":{"menuItem":"Bonus system","bonusOrderMenuItem":"Credits","customerMenuItem":"Customers","conditionMenuItem":"Conditions","bonusProductMenuItem":"Bonus products","bonusDashboardMenuItem":"Dashboard"},"list":{"booking":{"messageEmpty":"No entries found. You can use filter settings to show activated/ not activated and order/ no order credited.","approve":"Activate","textOverview":"Credit overview","columnCreateDate":"Date","columnSalesChannelName":"Sales channel","columnCustomerName":"Customer name","columnPoints":"Points","columnOrder":"Order","columnDescription":"Reason","columnApproved":"Activated","titleSidebarItemFilter":"Filter","titleSidebarItemFilterApproved":"Activated","titleSidebarItemFilterIsOrder":"Is order","expiryBooking":"Expired Points"},"userPoint":{"textOverview":"Customer overview","columnPoints":"Points balance","columnCustomerEmail":"E-mail","bookLink":"Edit points","viewDetails":"View","modal":{"title":"Credit/Deduct points","bookReason":"Reason","bookPoints":"Points","bookSubmit":"Apply","formError":"Error: Please check form values."}},"condition":{"textOverview":"Conditions overview","buttonAddCondition":"Add condition","messageEmpty":"No entries found","columnName":"Name","columnActive":"Active","columnValidFrom":"Valid from","columnValidUntil":"Valid until"},"bonusProduct":{"messageEmpty":"No entries found. You can create your first bonus product here.","textOverview":"Bonus product overview","buttonAddBonusProduct":"New product","columnName":"Name","columnActive":"Active","columnValidFrom":"Valid from","columnValidUntil":"Valid until"},"dashboard":{"textOverview":"Dashboard overview","salesChannelsLabel":"Statistics","topEarnedPointsLabel":"Top 5 points credited","topCreditPointsLabel":"Top 5 point balances","salesChannelLabel":"Sales Channel","customerLabel":"Customer","pointsEarnedLabel":"Points credited","pointsSpentLabel":"Points redeemed","pointsNotApprovedLabel":"Points not activated","pointsCreditLabel":"Points balance","showAllLabel":"Show all","filterAllLabel":"Overall","filterlast30DaysLabel":"Last 30 Days","filterlast14DaysLabel":"Last 14 Days","filterlast7DaysLabel":"Last 7 Days","filterlast24HoursLabel":"Last 24 Hours","filterSinceYesterdayLabel":"Since Yesterday"}},"detail":{"main":{"labelAddNewRule":"Create new rule","condition":{"cardTitleConditionBaseInfo":"Base settings","textHeadline":"Bonus condition","buttonCancel":"Cancel","buttonSave":"Save","labelName":"Name","placeholderName":"Name","labelActive":"Active","labelValidFrom":"Valid from","labelValidUntil":"Valid until","labelType":"Condition type","placeholderType":"Please choose a type","labelSubType":"Type of change","placeholderSubTypeConversionFactor":"Please choose a type of point change","placeholderSubTypeExclude":"Please choose a type of exclude","type":{"excludeProducts":"Exclude products from bonus points","individualBonusFactorForCustomer":"Individual bonus factor for customer or customer group","individualBonusFactorForProductOrStream":"Individual bonus factor for product or product group"},"subType":{"conversionFactorCollect":"Credit conversion factor","conversionFactorRedeem":"Redemption conversion factor","excludeForRedeem":"Exclude from redemption","excludeForCollect":"Exclude from credits"},"labelConversionFactorCollect":"Conversion Factor (1 EUR = ? points)","cardTitleConditionRuleInfo":"Rules","cardTitleConditionRule":{"labelConditionRuleProduct":"Products","labelConditionRuleStream":"Product groups","labelConditionRuleCategory":"Categories","labelConditionRuleCustomerGroup":"Customer groups","labelConditionRuleCustomerNumber":"Customer numbers"}},"bonusProduct":{"textHeadline":"Bonus product detail","buttonCancel":"Cancel","buttonSave":"Save","cardTitleBonusProductBaseInfo":"Base settings","product":"Product","placeholderProduct":"Choose product","labelActive":"Active","labelValidFrom":"Valid from","labelValidUntil":"Valid until","placeholderType":"Please choose a the point cost type","labelOnlyBuyableWithPoints":"Only buyable with points","labelType":"Costs","type":{"usePluginSettingFactor":"Use redeem point factor from plugin settings","pointValue":"Define points"},"labelValue":"Number of points","labelMaxOrderQuantity":"Max. order quantity"},"customer":{"bookPoints":"Book points","textHeadline":"Customer details","buttonCancel":"Cancel","points":"Amount points","bookingList":{"order":"Order"}}}}}}')},"W+KP":function(t,e,n){var o=n("M7y0");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("85435ea2",o,!0,{})},XSRk:function(t,e,n){},aBbM:function(t,e,n){},irca:function(t,e,n){var o=n("OeXX");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("412f2251",o,!0,{})},jWFI:function(t,e,n){},jhEz:function(t){t.exports=JSON.parse('{"global":{"businessEvents":{"bonus_system_customer_points_changed":"Bonus Punkte verndert"}},"custom-bonus-system":{"flow-builder":{"change-points":{"title-change-points":"Punktestand ndern","description":"Punktestand ndern","label-description":"Grund","label-points":"Punkte","button-save-action":"Speichern"}}},"swag-migration":{"index":{"selectDataCard":{"entities":{"custom_bonus_system_user_point":"Bonuspunkte:"}}}}}')},lpnv:function(t){t.exports=JSON.parse('{"custom-bonus-system":{"customRule":{"customerHasBonusPoints":{"label":"Kunde hat Bonus Punkte"},"customerBonusPoints":{"label":"Bonus Punkte Kunde"}},"general":{"menuItem":"Bonus System","bonusOrderMenuItem":"Buchungen","customerMenuItem":"Kunden","ruleMenuItem":"Regeln","conditionMenuItem":"Bedingungen","bonusProductMenuItem":"Bonus Produkte","bonusDashboardMenuItem":"Dashboard"},"list":{"booking":{"messageEmpty":"Es wurden keine Eintrge gefunden. Sie knnen die Filter Einstellungen freigegeben/ nicht freigegeben und Bestellung/ keine Bestellung nutzen, um die Buchungen zu filtern.","approve":"Freigeben","textOverview":"Buchungen bersicht","columnCreateDate":"Datum","columnSalesChannelName":"Verkaufskanal","columnCustomerName":"Name","columnPoints":"Punkte","columnOrder":"Bestellung","columnDescription":"Grund","columnApproved":"Freigegeben","titleSidebarItemFilter":"Filter","titleSidebarItemFilterApproved":"Freigegeben","titleSidebarItemFilterIsOrder":"Ist Bestellung","expiryBooking":"Abgelaufene Punkte"},"userPoint":{"textOverview":"Kunden bersicht","bookLink":"Punkte buchen","columnCustomerEmail":"E-Mail","columnPoints":"Punkte","viewDetails":"Anzeigen","modal":{"title":"Hinzufgen/ Entfernen von Punkten","bookReason":"Grund","bookPoints":"Punkte","bookSubmit":"Jetzt buchen","formError":"Fehler: Bitte prfen Sie die Formulareingaben."}},"condition":{"textOverview":"Bedingungen bersicht","buttonAddCondition":"Bedingung hinzufgen","messageEmpty":"Keine Eintrge gefunden","columnName":"Name","columnActive":"Aktiv","columnValidFrom":"Gltig von","columnValidUntil":"Gltig bis"},"bonusProduct":{"messageEmpty":"Keine Eintrge gefunden. Erstellen Sie hier Ihr erstes Bonus Produkt.","textOverview":"Bonus Produkt bersicht","buttonAddBonusProduct":"Neues Produkt","columnName":"Name","columnActive":"Aktiv","columnValidFrom":"Gltig von","columnValidUntil":"Gltig bis"},"dashboard":{"textOverview":"Dashboard berblick","salesChannelsLabel":"Statistik","topEarnedPointsLabel":"Top 5 Punkte Verdienst","topCreditPointsLabel":"Top 5 Punkte Guthaben","salesChannelLabel":"Verkaufskanal","customerLabel":"Kunde","pointsEarnedLabel":"Punkte verdient","pointsSpentLabel":"Punkte ausgegeben","pointsNotApprovedLabel":"Punkte nicht freigegeben","pointsCreditLabel":"Guthaben","showAllLabel":"Alle anzeigen","filterAllLabel":"Seit Beginn","filterlast30DaysLabel":"Letzte 30 Tage","filterlast14DaysLabel":"Letzte 14 Tage","filterlast7DaysLabel":"Letzte 7 Tage","filterlast24HoursLabel":"Letzte 24 Stunden","filterSinceYesterdayLabel":"Seit gestern"}},"detail":{"main":{"labelAddNewRule":"Neue Regel anlegen","condition":{"cardTitleConditionBaseInfo":"Basis Einstellungen","textHeadline":"Bonus Bedingung","buttonCancel":"Abbrechen","buttonSave":"Speichern","labelName":"Name","placeholderName":"Name","labelActive":"Aktiv","labelValidFrom":"Gltig von","labelValidUntil":"Gltig bis","labelType":"Bedingung Typ","placeholderType":"Bitte whlen Sie einen Typ","labelSubType":"Typ der nderung","placeholderSubTypeConversionFactor":"Bitte whlen Sie einen Typ der Punkte nderung","placeholderSubTypeExclude":"Bitte whlen Sie eine Art","type":{"excludeProducts":"Produkte fr Bonus Punkte ausschlieen","individualBonusFactorForCustomer":"Individueller Bonus Faktor fr Kunde oder Kundengruppe","individualBonusFactorForProductOrStream":"Individueller Bonus Faktor fr Produkt oder Produktgruppe"},"subType":{"conversionFactorCollect":"Umrechnungsfaktor Punkte sammeln","conversionFactorRedeem":"Umrechnungsfaktor Punkte einlsen","excludeForRedeem":"Ausschlieen fr das Punkte einlsen","excludeForCollect":"Ausschlieen fr das Punkte sammeln"},"labelConversionFactorCollect":"Umrechnungsfaktor (1 EUR = ? Punkte)","cardTitleConditionRuleInfo":"Regeln","cardTitleConditionRule":{"labelConditionRuleProduct":"Produkte","labelConditionRuleStream":"Produkt Gruppen","labelConditionRuleCategory":"Kategorien","labelConditionRuleCustomerGroup":"Kundengruppen","labelConditionRuleCustomerNumber":"Kundennummern"}},"bonusProduct":{"textHeadline":"Bonus Produkt Detail","buttonCancel":"Abbrechen","buttonSave":"Speichern","cardTitleBonusProductBaseInfo":"Basis Einstellungen","product":"Produkt","placeholderProduct":"Produkt whlen","labelActive":"Aktiv","labelValidFrom":"Gltig von","labelValidUntil":"Gltig bis","placeholderType":"Bitte whlen Sie einen Kostentyp","labelOnlyBuyableWithPoints":"Nur mit Punkten erwerbbar","labelType":"Kosten","type":{"usePluginSettingFactor":"Umrechnungsfaktor Punkte einlsen von Plugin Einstellungen","pointValue":"Fester Punktewert"},"labelValue":"Anzahl Punkte","labelMaxOrderQuantity":"Maximalabnahme"},"customer":{"bookPoints":"Punkte buchen","textHeadline":"Kunden Details","buttonCancel":"Abbrechen","points":"Punkte Guthaben","bookingList":{"order":"Bestellung"}}}}}}')},nQEI:function(t){t.exports=JSON.parse('{"custom.bonus.system.condition.detail":{"condition":["name","type"]}}')},oNWt:function(t,e,n){},upwz:function(t,e,n){var o=n("aBbM");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("P8hj").default)("3f3abc70",o,!0,{})},"xrj/":function(t,e,n){}});
//# sourceMappingURL=custom-bonus-system.js.map